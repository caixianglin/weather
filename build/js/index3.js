import{c as t,r as e,R as n,W as r,I as i,_ as a,b as o,d as u,e as s,f as l,i as c,s as h,a as f}from"./index.js";t({useEffect:e.exports.useEffect});const v=undefined,p=undefined,d=undefined,y=undefined,m=undefined,g=undefined;var x="_today_itsmz_1",k="_img_itsmz_9",w="_address_itsmz_17",b="_temp_itsmz_29",M="_item_itsmz_61",_="_value_itsmz_71";function S(t){const{weather:e,location:a}=t;return n.createElement("div",{className:x},n.createElement("img",{className:k,src:r[null==e?void 0:e.main]}),n.createElement("div",{className:w},a&&a.city&&0!==a.city.length?`${a.city},`:"",n.createElement("br",null),null==a?void 0:a.province),n.createElement("div",{className:b},e.temp,n.createElement("i",null,"\u2103")),n.createElement("ul",null,i.map((t=>n.createElement("li",{className:M,key:t.value,style:t.style},n.createElement("img",{src:t.iconB}),n.createElement("span",{className:_},e[t.value],t.suffix))))))}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}function Y(t){var e=E();return function n(){var r=D(t),i;if(e){var a=D(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return N(this,i)}}var I=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},j=function(t,e){if(!I(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n},F={}.toString,R,L=function(t,e){return F.call(t)==="[object "+e+"]"},B=function(t){return L(t,"Function")},W=function(t){return null==t},z=function(t){return Array.isArray?Array.isArray(t):L(t,"Array")},X=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function H(t,e){var n;if(t)if(z(t))for(var r=0,i=t.length;r<i&&!1!==(n=e(t[r],r));r++);else if(X(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===(n=e(t[a],a)))break}var V=function(t){return"object"==typeof t&&null!==t},q=function(t){if(!V(t)||!L(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function G(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1}var U=function(t){if(!z(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},Z=function(t){if(z(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},$=function(t){if(z(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},Q=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(z(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=Z(e),a;return{min:$(e),max:i}},J=function(t,e,n){if(!z(t)&&!q(t))return t;var r=n;return H(t,(function(t,n){r=e(r,t,n)})),r},K=function(t){return L(t,"String")},tt=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var a,o=t[i][e];if(!W(o)){z(o)||(o=[o]);for(var u=0;u<o.length;u++){var s=o[u];r[s]||(n.push(s),r[s]=!0)}}}return n};function et(t){if(I(t))return t[0]}function nt(t){if(I(t)){var e=t;return t[t.length-1]}}var rt=Object.prototype.hasOwnProperty;function it(t,e){if(!e||!z(t))return{};for(var n={},r=B(e)?e:function(t){return t[e]},i,a=0;a<t.length;a++){var o=t[a];i=r(o),rt.call(n,i)?n[i].push(o):n[i]=[o]}return n}function at(t,e){if(!e)return{0:t};if(!B(e)){var n=z(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return it(t,e)}var ot=function(t,e){if(!e)return[t];var n=at(t,e),r=[];for(var i in n)r.push(n[i]);return r},ut=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},st=function(t){return L(t,"Number")},lt=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return H(t,(function(n,r){B(t)&&"prototype"===r||e.push(n)})),e},ct=function(t){return W(t)?"":t.toString()};function ht(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}var ft=function(t){var e=ct(t);return e.charAt(0).toUpperCase()+e.substring(1)},vt={}.toString,pt=function(t){return vt.call(t).replace(/^\[object /,"").replace(/]$/,"")},dt=function(t){return L(t,"Boolean")},yt=function(t){return L(t,"Date")},mt=Object.prototype,gt=function(t){var e=t&&t.constructor,n;return t===("function"==typeof e&&e.prototype||mt)},xt=function(t){return void 0===t};function kt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function wt(t,e,n,r){return e&&kt(t,e),n&&kt(t,n),r&&kt(t,r),t}var bt=function(t){if("object"!=typeof t||null===t)return t;var e;if(z(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=bt(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"==typeof t[i]&&null!=t[i]?e[i]=bt(t[i]):e[i]=t[i];return e},Mt=function(t,e){if(!B(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var u=t.apply(this,r);return o.set(a,u),u};return n.cache=new Map,n},_t=5;function St(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var a=e[i];null!==a&&q(a)?(q(t[i])||(t[i]={}),n<r?St(t[i],a,n+1,r):t[i]=e[i]):z(a)?(t[i]=[],t[i]=t[i].concat(a)):void 0!==a&&(t[i]=a)}}var Pt,At=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)St(t,e[r]);return t},Ct=function(t,e){if(!I(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},Ot=Object.prototype.hasOwnProperty;function Dt(t){if(W(t))return!0;if(I(t))return!t.length;var e=pt(t);if("Map"===e||"Set"===e)return!t.size;if(gt(t))return!Object.keys(t).length;for(var n in t)if(Ot.call(t,n))return!1;return!0}var Et=function(t,e){if(!I(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e(i,r))}return n},Tt=function(t){return t},Nt=function(t,e){void 0===e&&(e=Tt);var n={};return X(t)&&!W(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n},Yt=function(t,e,n){for(var r=0,i=K(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},It=Object.prototype.hasOwnProperty,jt=function(t,e){if(null===t||!q(t))return{};var n={};return H(e,(function(e){It.call(t,e)&&(n[e]=t[e])})),n},Ft=function(t,e){return J(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})};function Rt(t){return W(t)?0:I(t)?t.length:Object.keys(t).length}var Lt=function(t,e){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Bt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Wt=function(){return Wt=Object.assign||function t(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Wt.apply(this,arguments)},zt;function Xt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],o=0,u=a.length;o<u;o++,i++)r[i]=a[o];return r}Mt((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return zt||(zt=document.createElement("canvas").getContext("2d")),zt.font=[a,o,i,n+"px",r].join(" "),zt.measureText(K(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),Xt([t],lt(e)).join("")}));var Ht=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();function Vt(t,e){return t?u(u({},t),{},{props:u(u({},t.props),e)}):t}function qt(t,e){return t&&z(t)?t.map((function(t){return qt(t,e)})):e(t)}function Gt(t,e,n){for(var r={},i=t.length,a=e.length,o=0,u=a;o<u;o++){var s=e[o];if(s&&!W(s.key)){var l=s.key;r[l]=s}}for(var c=0,h=Math.max(i,a);c<h;c++){var f=t[c];if(f){var v=f.key;if(W(f.key))Ut(f,e[c],n);else{var p=r[v];p&&delete r[v],Ut(f,p,n)}}else Ut(f,e[c],n)}Object.keys(r).forEach((function(t){Ut(null,r[t],n)}))}function Ut(t,e,n){var r,i;t&&e?z(t)||z(e)?Gt(z(t)?t:[t],z(e)?e:[e],n):n(t,e):n(t,e)}function Zt(t){if(!t)return t;if(!z(t))return[t];for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];z(i)?e=e.concat(Zt(i)):e.push(i)}return e}var $t,Qt={cloneElement:Vt,map:qt,toArray:Zt,compare:Ut},Jt=function(){function t(e,n,r){P(this,t),this.props=e,this.state={},this.context=n,this.updater=r}return C(t,[{key:"willMount",value:function t(){}},{key:"didMount",value:function t(){}},{key:"willReceiveProps",value:function t(e){}},{key:"willUpdate",value:function t(){}},{key:"didUpdate",value:function t(){}},{key:"render",value:function t(){return null}},{key:"didUnmount",value:function t(){}},{key:"setState",value:function t(e,n){this.updater.enqueueSetState(this,e,n)}},{key:"forceUpdate",value:function t(e){this.updater.enqueueForceUpdate(this,{},e)}},{key:"setAnimate",value:function t(e){this.animate=e}}]),t}();Jt.prototype.isF2Component=!0;var Kt=Jt,te={generateDefault:function t(){return[1,0,0,1,0,0]},isChanged:function t(e){return 1!==e[0]||0!==e[1]||0!==e[2]||1!==e[3]||0!==e[4]||0!==e[5]},multiply:function t(e,n){var r,i,a,o,u,s;return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]},scale:function t(e,n,r){return e[0]=n[0]*r[0],e[1]=n[1]*r[0],e[2]=n[2]*r[1],e[3]=n[3]*r[1],e[4]=n[4],e[5]=n[5],e},rotate:function t(e,n,r){var i=Math.cos(r),a=Math.sin(r),o=n[0]*i+n[2]*a,u=n[1]*i+n[3]*a,s=n[0]*-a+n[2]*i,l=n[1]*-a+n[3]*i;return e[0]=o,e[1]=u,e[2]=s,e[3]=l,e[4]=n[4],e[5]=n[5],e},translate:function t(e,n,r){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4]+n[0]*r[0]+n[2]*r[1],e[5]=n[5]+n[1]*r[0]+n[3]*r[1],e},transform:function t(e,n){for(var r=[].concat(e),i=0,a=n.length;i<a;i++){var o=n[i];switch(o[0]){case"t":te.translate(r,r,[o[1],o[2]]);break;case"s":te.scale(r,r,[o[1],o[2]]);break;case"r":te.rotate(r,r,o[1])}}return r}},ee=te,ne={create:function t(){return[0,0]},length:function t(e){var n=e[0],r=e[1];return Math.sqrt(n*n+r*r)},normalize:function t(e,n){var r=this.length(n);return 0===r?(e[0]=0,e[1]=0):(e[0]=n[0]/r,e[1]=n[1]/r),e},add:function t(e,n,r){return e[0]=n[0]+r[0],e[1]=n[1]+r[1],e},sub:function t(e,n,r){return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e},scale:function t(e,n,r){return e[0]=n[0]*r,e[1]=n[1]*r,e},dot:function t(e,n){return e[0]*n[0]+e[1]*n[1]},direction:function t(e,n){return e[0]*n[1]-n[0]*e[1]},angle:function t(e,n){var r=this.dot(e,n)/(this.length(e)*this.length(n));return Math.acos(r)},angleTo:function t(e,n,r){var i=this.angle(e,n),a=this.direction(e,n)>=0;return r?a?2*Math.PI-i:i:a?i:2*Math.PI-i},zero:function t(e){return 0===e[0]&&0===e[1]},distance:function t(e,n){var r=n[0]-e[0],i=n[1]-e[1];return Math.sqrt(r*r+i*i)},clone:function t(e){return[e[0],e[1]]},min:function t(e,n,r){return e[0]=Math.min(n[0],r[0]),e[1]=Math.min(n[1],r[1]),e},max:function t(e,n,r){return e[0]=Math.max(n[0],r[0]),e[1]=Math.max(n[1],r[1]),e},transformMat2d:function t(e,n,r){var i=n[0],a=n[1];return e[0]=r[0]*i+r[2]*a+r[4],e[1]=r[1]*i+r[3]*a+r[5],e}};function re(t){return[t.x,t.y]}function ie(t,e,n,r){var i=[],a,o,u=!!r,s,l,c,h,f,v;if(u){for(s=[1/0,1/0],l=[-1/0,-1/0],v=0,f=t.length;v<f;v++)c=re(t[v]),ne.min(s,s,c),ne.max(l,l,c);ne.min(s,s,r[0]),ne.max(l,l,r[1])}for(v=0,h=t.length;v<h;v++){if(c=re(t[v]),n)a=re(t[v?v-1:h-1]),o=re(t[(v+1)%h]);else{if(0===v||v===h-1){i.push([c[0],c[1]]);continue}a=re(t[v-1]),o=re(t[v+1])}var p=ne.sub([],o,a);ne.scale(p,p,e);var d=ne.distance(c,a),y=ne.distance(c,o),m=d+y;0!==m&&(d/=m,y/=m);var g=ne.scale([],p,-d),x=ne.scale([],p,y),k=ne.add([],c,g),w=ne.add([],c,x);u&&(ne.max(k,k,s),ne.min(k,k,l),ne.max(w,w,s),ne.min(w,w,l)),i.push([k[0],k[1]]),i.push([w[0],w[1]])}return n&&i.push(i.shift()),i}function ae(t,e,n){for(var r=!!e,i=ie(t,.4,r,n),a=t.length,o=[],u,s,l,c=0;c<a-1;c++)u=i[2*c],s=i[2*c+1],l=t[c+1],o.push(["C",u[0],u[1],s[0],s[1],l.x,l.y]);return r&&(u=i[a],s=i[a+1],l=t[0],o.push(["C",u[0],u[1],s[0],s[1],l.x,l.y])),o}var oe=ne.create(),ue=ne.create(),se=ne.create();function le(t,e,n,r,i){var a,o;return{x:ce(i,t.x,e.x,n.x,r.x),y:ce(i,t.y,e.y,n.y,r.y)}}function ce(t,e,n,r,i){var a=t*t,o;return e+(3*-e+t*(3*e-e*t))*t+(3*n+t*(-6*n+3*n*t))*t+(3*r-3*r*t)*a+i*(a*t)}function he(t){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,a={x:t[0],y:t[1]},o={x:t[2],y:t[3]},u={x:t[4],y:t[5]},s={x:t[6],y:t[7]},l=0;l<100;l++){var c=le(a,o,u,s,l/100);c.x<e&&(e=c.x),c.x>n&&(n=c.x),c.y<r&&(r=c.y),c.y>i&&(i=c.y)}return{minX:e,minY:r,maxX:n,maxY:i}}function fe(t,e){if(0!==t.length){for(var n=t[0],r=n.x,i=n.x,a=n.y,o=n.y,u=t.length,s=1;s<u;s++)n=t[s],r=Math.min(r,n.x),i=Math.max(i,n.x),a=Math.min(a,n.y),o=Math.max(o,n.y);return{minX:r-(e=e/2||0),minY:a-e,maxX:i+e,maxY:o+e}}}function ve(t,e,n,r,i){return i=i/2||0,{minX:Math.min(t,n)-i,minY:Math.min(e,r)-i,maxX:Math.max(t,n)+i,maxY:Math.max(e,r)+i}}function pe(t,e,n,r,i,a){var o=Math.abs(r-i);if(o%(2*Math.PI)<1e-4&&o>1e-4)return{minX:t-n,minY:e-n,maxX:t+n,maxY:e+n};oe[0]=Math.cos(r)*n+t,oe[1]=Math.sin(r)*n+e,ue[0]=Math.cos(i)*n+t,ue[1]=Math.sin(i)*n+e;var u=[0,0],s=[0,0];if(ne.min(u,oe,ue),ne.max(s,oe,ue),(r%=2*Math.PI)<0&&(r+=2*Math.PI),(i%=2*Math.PI)<0&&(i+=2*Math.PI),r>i&&!a?i+=2*Math.PI:r<i&&a&&(r+=2*Math.PI),a){var l=i;i=r,r=l}for(var c=0;c<i;c+=Math.PI/2)c>r&&(se[0]=Math.cos(c)*n+t,se[1]=Math.sin(c)*n+e,ne.min(u,se,u),ne.max(s,se,s));return{minX:u[0],minY:u[1],maxX:s[0],maxY:s[1]}}function de(t,e){for(var n=1/0,r=-1/0,i=1/0,a=-1/0,o=0,u=t.length;o<u;o++){var s=he(t[o]);s.minX<n&&(n=s.minX),s.maxX>r&&(r=s.maxX),s.minY<i&&(i=s.minY),s.maxY>a&&(a=s.maxY)}return{minX:n-(e=e/2||0),minY:i-e,maxX:r+e,maxY:a+e}}var ye,me=function(){function t(){P(this,t),this.__events={}}return C(t,[{key:"on",value:function t(e,n){if(e&&n){var r=this.__events[e]||[];r.push(n),this.__events[e]=r}}},{key:"emit",value:function t(e,n){var r=this;if(X(e)&&(e=(n=e)&&n.type),e){var i=this.__events[e];i&&i.length&&i.forEach((function(t){t.call(r,n)}))}}},{key:"off",value:function t(e,n){var r=this.__events,i=r[e];if(i&&i.length)if(n)for(var a=0,o=i.length;a<o;a++)i[a]===n&&(i.splice(a,1),a--);else delete r[e]}}]),t}();function ge(t){return!(!t||"object"!==T(t))&&(!(1!==t.nodeType||!t.nodeName)||!!t.isCanvasElement)}function xe(){return window&&window.devicePixelRatio||1}function ke(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function we(t){var e=ke(t,"width");return"auto"===e&&(e=t.offsetWidth),parseFloat(e)}function be(t){var e=ke(t,"height");return"auto"===e&&(e=t.offsetHeight),parseFloat(e)}function Me(t){return t?document.getElementById(t):null}function _e(t,e){var n=e.get("el");if(!n)return t;var r=n.getBoundingClientRect(),i=r.top,a=r.left,o=parseFloat(ke(n,"padding-left")),u=parseFloat(ke(n,"padding-top")),s,l;return{x:t.x-a-o,y:t.y-i-u}}function Se(t,e){var n=e.get("landscape");if(!n)return t;if(B(n))return n(t,e);var r=e.get("height"),i,a;return{x:t.y,y:r-t.x}}function Pe(t,e){var n=t.touches,r;if(!n)return[Se(_e({x:t.clientX,y:t.clientY},e),e)];n.length||(n=t.changedTouches||[]);for(var i=[],a=0,o=n.length;a<o;a++){var u=n[a],s=u.x,l=u.y,c=u.clientX,h=u.clientY,f=void 0;f=st(s)||st(l)?{x:s,y:l}:_e({x:c,y:h},e),i.push(Se(f,e))}return i}function Ae(t,e,n){return n||(n=document.createElement("canvas").getContext("2d")),n.font=e||"12px sans-serif",n.measureText(t)}!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function e(){t=!0}});window.addEventListener("e",null,e)}catch(n){}}(),"object"===("undefined"==typeof wx?"undefined":T(wx))&&wx.getSystemInfoSync,"object"===("undefined"==typeof my?"undefined":T(my))&&my.getSystemInfoSync,("undefined"==typeof global||T(global))&&"undefined"!=typeof window&&T(window);var Ce=Pe,Oe=function t(e,n){var r=n.x-e.x,i=n.y-e.y;return Math.abs(r)>Math.abs(i)?r>0?"right":"left":i>0?"down":"up"},De=function t(e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y);return Math.sqrt(r*r+i*i)},Ee=function t(e,n){var r,i;return{x:e.x+(n.x-e.x)/2,y:e.y+(n.y-e.y)/2}},Te=250,Ne,Ye=function(){function t(e){var n=this,r=e.canvas,i=e.el;P(this,t),this._click=function(t){var e=Ce(t,n.canvas);t.points=e,n.emitEvent("click",t)},this._start=function(t){var e=Ce(t,n.canvas);e&&(t.points=e,n.emitEvent("touchstart",t),n.reset(),n.startTime=Date.now(),n.startPoints=e,e.length>1?(n.startDistance=De(e[0],e[1]),n.center=Ee(e[0],e[1])):n.pressTimeout=setTimeout((function(){var e="press",r="none";t.direction=r,n.emitStart(e,t),n.emitEvent(e,t),n.eventType=e,n.direction=r}),250))},this._move=function(t){var e=Ce(t,n.canvas);if(e){n.clearPressTimeout(),t.points=e,n.emitEvent("touchmove",t);var r=n.startPoints;if(r)if(e.length>1){var i=n.startDistance,a=De(e[0],e[1]);t.zoom=a/i,t.center=n.center,n.emitStart("pinch",t),n.emitEvent("pinch",t)}else{var o=e[0].x-r[0].x,u=e[0].y-r[0].y,s=n.direction||Oe(r[0],e[0]);n.direction=s;var l=n.getEventType(e);t.direction=s,t.deltaX=o,t.deltaY=u,n.emitStart(l,t),n.emitEvent(l,t);var c=n.lastMoveTime,h=Date.now();h-c>0&&(n.prevMoveTime=c,n.prevMovePoints=n.lastMovePoints,n.lastMoveTime=h,n.lastMovePoints=e)}}},this._end=function(t){var e=Ce(t,n.canvas);t.points=e,n.emitEnd(t),n.emitEvent("touchend",t);var r=n.lastMoveTime,i;if(Date.now()-r<100){var a,o=r-(n.prevMoveTime||n.startTime);if(o>0){var u=n.prevMovePoints||n.startPoints,s=n.lastMovePoints,l=De(u[0],s[0])/o;l>.3&&(t.velocity=l,t.direction=Oe(u[0],s[0]),n.emitEvent("swipe",t))}}n.reset();var c=t.touches;c&&c.length>0&&n._start(t)},this._cancel=function(t){n.emitEvent("touchcancel",t),n.reset()},this.canvas=r,this.delegateEvent(i),this.processEvent={}}return C(t,[{key:"delegateEvent",value:function t(e){e.addEventListener("click",this._click),e.addEventListener("touchstart",this._start),e.addEventListener("touchmove",this._move),e.addEventListener("touchend",this._end),e.addEventListener("touchcancel",this._cancel)}},{key:"emitEvent",value:function t(e,n){var r;this.canvas.emit(e,n)}},{key:"getEventType",value:function t(e){var n=this.eventType,r=this.canvas,i=this.startTime,a=this.startPoints,o;if(n)return n;var u=r.__events.pan,s;u&&u.length?o=Date.now()-i>250&&De(a[0],e[0])<10?"press":"pan":o="press";return this.eventType=o,o}},{key:"enable",value:function t(e){this.processEvent[e]=!0}},{key:"isProcess",value:function t(e){return this.processEvent[e]}},{key:"emitStart",value:function t(e,n){this.isProcess(e)||(this.enable(e),this.emitEvent("".concat(e,"start"),n))}},{key:"emitEnd",value:function t(e){var n=this,r=this.processEvent;Object.keys(r).forEach((function(t){n.emitEvent("".concat(t,"end"),e),delete r[t]}))}},{key:"clearPressTimeout",value:function t(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}},{key:"reset",value:function t(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.pinch=!1,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null}}]),t}(),Ie=function(t){O(n,t);var e=Y(n);function n(t){var r;P(this,n),(r=e.call(this)).context=t;var i=t.canvas||{};return r.width=i.width||0,r.height=i.height||0,r.style={},r.currentStyle={},r.attrs={},r.isCanvasElement=!0,r}return C(n,[{key:"getContext",value:function t(){return this.context}},{key:"getBoundingClientRect",value:function t(){var e,n;return{top:0,right:this.width,bottom:this.height,left:0}}},{key:"setAttribute",value:function t(e,n){this.attrs[e]=n}},{key:"addEventListener",value:function t(e,n){this.on(e,n)}},{key:"removeEventListener",value:function t(e,n){this.off(e,n)}},{key:"dispatchEvent",value:function t(e,n){this.emit(e,n)}}]),n}(me);function je(t){if(!t)return!1;if(1!==t.nodeType||!t.nodeName||"canvas"!==t.nodeName.toLowerCase())return!1;var e=!1;try{t.addEventListener("eventTest",(function(){e=!0})),t.dispatchEvent(new Event("eventTest"))}catch(n){e=!1}return e}var Fe=function t(e){return e?je(e.canvas)?e.canvas:new Ie(e):null};function Re(t,e){if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}function Le(t,e){return(t%e+e)%e}function Be(t,e){H(t,(function(t){t=t.split(":"),e.addColorStop(Number(t[0]),t[1])}))}function We(t,e,n){var r=t.split(" "),i=r[0].slice(2,r[0].length-1);i=Le(parseFloat(i)*Math.PI/180,2*Math.PI);var a=r.slice(1),o=e.getBBox(),u=o.minX,s=o.minY,l=o.maxX,c=o.maxY,h,f;i>=0&&i<.5*Math.PI?(h={x:u,y:s},f={x:l,y:c}):.5*Math.PI<=i&&i<Math.PI?(h={x:l,y:s},f={x:u,y:c}):Math.PI<=i&&i<1.5*Math.PI?(h={x:l,y:c},f={x:u,y:s}):(h={x:u,y:c},f={x:l,y:s});var v=Math.tan(i),p=v*v,d=(f.x-h.x+v*(f.y-h.y))/(p+1)+h.x,y=v*(f.x-h.x+v*(f.y-h.y))/(p+1)+h.y,m=n.createLinearGradient(h.x,h.y,d,y);return Be(a,m),m}function ze(t,e,n){var r=t.split(" "),i=r[0].slice(2,r[0].length-1);i=i.split(",");var a=parseFloat(i[0]),o=parseFloat(i[1]),u=parseFloat(i[2]),s=r.slice(1),l;if(0===u)return s[s.length-1].split(":")[1];var c=e.getBBox(),h=c.width,f=c.height,v=c.minX,p=c.minY,d=Math.sqrt(h*h+f*f)/2,y=n.createRadialGradient(v+h*a,p+f*o,u*d,v+h/2,p+f/2,d);return Be(s,y),y}function Xe(t,e,n){if("("===t[1])try{var r=t[0];if("l"===r)return We(t,e,n);if("r"===r)return ze(t,e,n)}catch(i){console.error("error in parsing gradient string, please check if there are any extra whitespaces."),console.error(i)}return t}var He={stroke:"strokeStyle",fill:"fillStyle",opacity:"globalAlpha"},Ve=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","shadow"],qe=["circle","sector","polygon","rect","polyline"],Ge,Ue,Ze,$e=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){this._attrs=u(u({},this._attrs),{},{zIndex:0,visible:!0,destroyed:!1,isShape:!0,attrs:{}})}},{key:"getType",value:function t(){return this._attrs.type}},{key:"drawInner",value:function t(e){var n=this.get("attrs");this.createPath(e);var r=e.globalAlpha,i;if(this.hasFill()){var a=n.fillOpacity;W(a)||1===a?e.fill():(e.globalAlpha=a,e.fill(),e.globalAlpha=r)}if(this.hasStroke()&&n.lineWidth>0){var o=n.strokeOpacity;W(o)||1===o||(e.globalAlpha=o),e.stroke()}}},{key:"getBBox",value:function t(){var e=this._attrs.bbox;return e||((e=this.calculateBox())&&(e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY),this._attrs.bbox=e),e}},{key:"calculateBox",value:function t(){return null}},{key:"createPath",value:function t(e){}}]),n}(function(){function t(e){P(this,t),this._initProperties(),wt(this._attrs,e);var n=this._attrs.attrs;n&&this.initAttrs(n),this.initTransform()}return C(t,[{key:"_initProperties",value:function t(){this._attrs=u(u({},this._attrs),{},{zIndex:0,visible:!0,destroyed:!1})}},{key:"get",value:function t(e){return this._attrs[e]}},{key:"set",value:function t(e,n){this._attrs[e]=n}},{key:"isGroup",value:function t(){return this.get("isGroup")}},{key:"isShape",value:function t(){return this.get("isShape")}},{key:"initAttrs",value:function t(e){this.attr(wt(this.getDefaultAttrs(),e))}},{key:"getDefaultAttrs",value:function t(){return{}}},{key:"_setAttr",value:function t(e,n){var r=this._attrs.attrs;if("clip"===e)n=this._setAttrClip(n);else{var i=He[e];i&&(r[i]=n)}r[e]=n}},{key:"_getAttr",value:function t(e){var n,r;return null===(n=this._attrs)||void 0===n||null===(r=n.attrs)||void 0===r?void 0:r[e]}},{key:"_afterAttrsSet",value:function t(){}},{key:"_setAttrClip",value:function t(e){return e&&qe.indexOf(e._attrs.type)>-1?(null===e.get("canvas")&&(e=u({},e)),e.set("parent",this.get("parent")),e.set("context",this.get("context")),e):null}},{key:"attr",value:function t(e,n){if(this.get("destroyed"))return null;var r=arguments.length;if(0===r)return this._attrs.attrs;if(X(e)){for(var i in this._attrs.bbox=null,e)this._setAttr(i,e[i]);return this._afterAttrsSet&&this._afterAttrsSet(),this}return 2===r?(this._attrs.bbox=null,this._setAttr(e,n),this._afterAttrsSet&&this._afterAttrsSet(),this):this._getAttr(e)}},{key:"getParent",value:function t(){return this.get("parent")}},{key:"draw",value:function t(e){this.get("destroyed")||this.get("visible")&&(this.setContext(e),this.drawInner(e),this.restoreContext(e))}},{key:"setContext",value:function t(e){var n=this._attrs.attrs.clip;e.save(),n&&!n._attrs.destroyed&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(e),this.resetTransform(e)}},{key:"restoreContext",value:function t(e){e.restore()}},{key:"resetContext",value:function t(e){var n=this._attrs.attrs;for(var r in n)if(Ve.indexOf(r)>-1){var i=n[r];"fillStyle"!==r&&"strokeStyle"!==r||!i||(i=Xe(i,this,e)),"lineDash"===r&&e.setLineDash&&z(i)?e.setLineDash(i):e[r]=i}}},{key:"hasFill",value:function t(){return this.get("canFill")&&this._attrs.attrs.fillStyle}},{key:"hasStroke",value:function t(){return this.get("canStroke")&&this._attrs.attrs.strokeStyle}},{key:"drawInner",value:function t(e){}},{key:"show",value:function t(){return this.set("visible",!0),this}},{key:"hide",value:function t(){return this.set("visible",!1),this}},{key:"isVisible",value:function t(){return this.get("visible")}},{key:"getAriaLabel",value:function t(){var e=this._attrs,n=e.destroyed,r=e.visible,i=e.isShape,a=e.aria;if(!n&&r&&(!i||a))return this._getAriaLabel()}},{key:"_getAriaLabel",value:function t(){return this._attrs.ariaLabel}},{key:"_removeFromParent",value:function t(){var e=this.get("parent"),n;e&&Re(e.get("children"),this);return this}},{key:"remove",value:function t(e){e?this.destroy():this._removeFromParent()}},{key:"destroy",value:function t(){var e;if(this.get("destroyed"))return null;this._removeFromParent(),this._attrs={},this.set("destroyed",!0)}},{key:"getBBox",value:function t(){return{minX:0,maxX:0,minY:0,maxY:0,width:0,height:0}}},{key:"initTransform",value:function t(){var e=this._attrs.attrs;e||(e={}),e.matrix||(e.matrix=[1,0,0,1,0,0]),this._attrs.attrs=e}},{key:"getMatrix",value:function t(){return this._attrs.attrs.matrix}},{key:"setMatrix",value:function t(e){this._attrs.attrs.matrix=[e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"transform",value:function t(e){var n=this._attrs.attrs.matrix;return this._attrs.attrs.matrix=ee.transform(n,e),this}},{key:"setTransform",value:function t(e){return this._attrs.attrs.matrix=[1,0,0,1,0,0],this.transform(e)}},{key:"translate",value:function t(e,n){var r=this._attrs.attrs.matrix;ee.translate(r,r,[e,n])}},{key:"rotate",value:function t(e){var n=this._attrs.attrs.matrix;ee.rotate(n,n,e)}},{key:"scale",value:function t(e,n){var r=this._attrs.attrs.matrix;ee.scale(r,r,[e,n])}},{key:"moveTo",value:function t(e,n){var r=this._attrs.x||0,i=this._attrs.y||0;this.translate(e-r,n-i),this.set("x",e),this.set("y",n)}},{key:"apply",value:function t(e){var n=this._attrs.attrs.matrix;return ne.transformMat2d(e,e,n),this}},{key:"resetTransform",value:function t(e){var n=this._attrs.attrs.matrix;ee.isChanged(n)&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}},{key:"isDestroyed",value:function t(){return this.get("destroyed")}}]),t}());function Qe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=D(t)););return t}function Je(){return Je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function t(e,n,r){var i=Qe(e,n);if(i){var a=Object.getOwnPropertyDescriptor(i,n);return a.get?a.get.call(arguments.length<3?e:r):a.value}},Je.apply(this,arguments)}function Ke(t){var e=0,n=0,r=0,i=0;return st(t)?e=r=i=n=t:z(t)&&(e=t[0],n=W(t[1])?t[0]:t[1],r=W(t[2])?t[0]:t[2],i=W(t[3])?n:t[3]),[e,n,r,i]}function tn(t,e,n){if(!((t=Ke(t))[0]||t[1]||t[2]||t[3]))return t;var r=Math.max(t[0]+t[1],t[2]+t[3]),i=Math.max(t[0]+t[3],t[1]+t[2]),a=Math.min(e/r,n/i);return a<1?t.map((function(t){return t*a})):t}var en,nn=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="rect"}},{key:"getDefaultAttrs",value:function t(){return{x:0,y:0,width:0,height:0,radius:0,lineWidth:0}}},{key:"createRadiusPath",value:function t(e,n,r,i,a,o){o=tn(o,i,a),e.moveTo(n+o[0],r),e.lineTo(n+i-o[1],r),e.arc(n+i-o[1],r+o[1],o[1],-Math.PI/2,0,!1),e.lineTo(n+i,r+a-o[2]),e.arc(n+i-o[2],r+a-o[2],o[2],0,Math.PI/2,!1),e.lineTo(n+o[3],r+a),e.arc(n+o[3],r+a-o[3],o[3],Math.PI/2,Math.PI,!1),e.lineTo(n,r+o[0]),e.arc(n+o[0],r+o[0],o[0],Math.PI,3*Math.PI/2,!1),e.closePath()}},{key:"createPath",value:function t(e){var n=this.get("attrs"),r=n.x,i=n.y,a=n.width,o=n.height,u=n.radius;e.beginPath(),u&&a*o?this.createRadiusPath(e,r,i,a,o,u):e.rect(r,i,a,o)}},{key:"calculateBox",value:function t(){var e=this.get("attrs"),n=e.x,r=e.y,i,a;return{minX:n,minY:r,maxX:n+e.width,maxY:r+e.height}}}]),n}($e),rn={},an,on=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!1,this._attrs.canStroke=!1,this._attrs.loading=!1,this._attrs.image=null,this._attrs.type="image"}},{key:"draw",value:function t(e){var r=this,i;if(!this.get("loading"))if(this.get("image"))Je(D(n.prototype),"draw",this).call(this,e);else{var a,o=this.get("attrs").src;if(o){var u=this.get("cacheImage");if(u&&rn[o])return this.set("image",rn[o]),void this.draw(e);var s=null,l=this.get("canvas");if(l&&l.get("createImage")){var c=l.get("createImage");s=c()}else window.Image&&(s=new Image);s&&(this.set("loading",!0),s.crossOrigin="",s.onload=function(){r.set("loading",!1),r.set("image",s),l.draw()},s.src=o,u&&(rn[o]=s))}}}},{key:"createPath",value:function t(e){var n=this.get("image");this.drawImage(e,n)}},{key:"drawImage",value:function t(e,n){var r=this._attrs,i=r.attrs,a;if(!r.destroyed){var o=i.x,u=i.y,s=i.width,l=i.height,c=i.sx,h=i.sy,f=i.swidth,v=i.sheight,p=i.radius,d=i.fillOpacity;p&&(e.save(),this.createRadiusPath(e,o,u,s,l,p),e.clip());var y=e.globalAlpha;W(d)||(e.globalAlpha=d),W(c)||W(h)||W(f)||W(v)?e.drawImage(n,o,u,s,l):e.drawImage(n,c,h,f,v,o,u,s,l),e.globalAlpha=y,p&&e.restore()}}}]),n}(nn),un,sn=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="circle"}},{key:"getDefaultAttrs",value:function t(){return{x:0,y:0,r:0,lineWidth:0}}},{key:"createPath",value:function t(e){var n=this.get("attrs"),r=n.x,i=n.y,a=n.r;e.beginPath(),e.arc(r,i,a,0,2*Math.PI,!1),e.closePath()}},{key:"calculateBox",value:function t(){var e=this.get("attrs"),n=e.x,r=e.y,i=e.r;return{minX:n-i,maxX:n+i,minY:r-i,maxY:r+i}}}]),n}($e),ln,cn=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canStroke=!0,this._attrs.type="line"}},{key:"getDefaultAttrs",value:function t(){return{x1:0,y1:0,x2:0,y2:0,lineWidth:1}}},{key:"createPath",value:function t(e){var n=this.get("attrs"),r=n.x1,i=n.y1,a=n.x2,o=n.y2;e.beginPath(),e.moveTo(r,i),e.lineTo(a,o)}},{key:"calculateBox",value:function t(){var e=this.get("attrs"),n,r,i,a,o;return ve(e.x1,e.y1,e.x2,e.y2,e.lineWidth)}}]),n}($e),hn,fn=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polygon"}},{key:"getDefaultAttrs",value:function t(){return{points:null,lineWidth:0}}},{key:"createPath",value:function t(e){var n,r=this.get("attrs").points;e.beginPath();for(var i=0,a=r.length;i<a;i++){var o=r[i];0===i?e.moveTo(o.x,o.y):e.lineTo(o.x,o.y)}e.closePath()}},{key:"calculateBox",value:function t(){var e,n;return fe(this.get("attrs").points)}}]),n}($e);function vn(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];isNaN(i.x)||isNaN(i.y)||e.push(i)}return e}var pn,dn=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polyline"}},{key:"getDefaultAttrs",value:function t(){return{points:null,lineWidth:1,smooth:!1}}},{key:"createPath",value:function t(e){var n=this.get("attrs"),r=n.points,i=n.smooth,a=vn(r);if(e.beginPath(),a.length)if(e.moveTo(a[0].x,a[0].y),i)for(var o,u=ae(a,!1,[[0,0],[1,1]]),s=0,l=u.length;s<l;s++){var c=u[s];e.bezierCurveTo(c[1],c[2],c[3],c[4],c[5],c[6])}else{var h,f;for(h=1,f=a.length-1;h<f;h++)e.lineTo(a[h].x,a[h].y);e.lineTo(a[f].x,a[f].y)}}},{key:"calculateBox",value:function t(){var e=this.get("attrs"),n=e.points,r=e.smooth,i=e.lineWidth,a=vn(n);if(r){for(var o=[],u,s=ae(a,!1,[[0,0],[1,1]]),l=0,c=s.length;l<c;l++){var h=s[l];if(0===l)o.push([a[0].x,a[0].y,h[1],h[2],h[3],h[4],h[5],h[6]]);else{var f=s[l-1];o.push([f[5],f[6],h[1],h[2],h[3],h[4],h[5],h[6]])}}return de(o,i)}return fe(a,i)}}]),n}($e),yn,mn=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canStroke=!0,this._attrs.canFill=!0,this._attrs.type="arc"}},{key:"getDefaultAttrs",value:function t(){return{x:0,y:0,r:0,startAngle:0,endAngle:2*Math.PI,anticlockwise:!1,lineWidth:1}}},{key:"createPath",value:function t(e){var n=this.get("attrs"),r=n.x,i=n.y,a=n.r,o=n.startAngle,u=n.endAngle,s=n.anticlockwise;e.beginPath(),o!==u&&e.arc(r,i,a,o,u,s)}},{key:"calculateBox",value:function t(){var e=this.get("attrs"),n,r,i,a,o,u;return pe(e.x,e.y,e.r,e.startAngle,e.endAngle,e.anticlockwise)}}]),n}($e),gn,xn=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="sector"}},{key:"getDefaultAttrs",value:function t(){return{x:0,y:0,lineWidth:0,r:0,r0:0,startAngle:0,endAngle:2*Math.PI,anticlockwise:!1}}},{key:"createPath",value:function t(e){var n=this.get("attrs"),r=n.x,i=n.y,a=n.startAngle,o=n.r,u=n.r0,s=n.anticlockwise,l=Math.min(n.endAngle,a+2*Math.PI);e.beginPath();var c=Math.cos(a),h=Math.sin(a);e.moveTo(c*u+r,h*u+i),e.lineTo(c*o+r,h*o+i),(Math.abs(l-a)>1e-4||0===a&&l<0)&&(e.arc(r,i,o,a,l,s),e.lineTo(Math.cos(l)*u+r,Math.sin(l)*u+i),0!==u&&e.arc(r,i,u,l,a,!s)),e.closePath()}},{key:"calculateBox",value:function t(){var e=this.get("attrs"),n=e.x,r=e.y,i=e.r,a=e.r0,o=e.startAngle,u=e.endAngle,s=e.anticlockwise,l=pe(n,r,i,o,u,s),c=pe(n,r,a,o,u,s);return{minX:Math.min(l.minX,c.minX),minY:Math.min(l.minY,c.minY),maxX:Math.max(l.maxX,c.maxX),maxY:Math.max(l.maxY,c.maxY)}}}]),n}($e),kn,wn={calcRotatedBox:function t(e){var n=e.width,r=e.height,i=e.rotate,a=Math.abs(i);return{width:Math.abs(n*Math.cos(a)+r*Math.sin(a)),height:Math.abs(r*Math.cos(a)+n*Math.sin(a))}}},bn=Ae,Mn=0,_n={},Sn=5e3,Pn,An=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="text"}},{key:"getDefaultAttrs",value:function t(){return{lineWidth:0,lineCount:1,fontSize:12,fontFamily:"",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null}}},{key:"_getFontStyle",value:function t(){var e=this._attrs.attrs,n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return"".concat(a," ").concat(o," ").concat(i," ").concat(n,"px ").concat(r)}},{key:"_afterAttrsSet",value:function t(){var e=this._attrs.attrs;if(e.font=this._getFontStyle(),e.text){var n=e.text,r=null,i=1;K(n)&&-1!==n.indexOf("\n")&&(i=(r=n.split("\n")).length),e.lineCount=i,e.textArr=r}this.set("attrs",e)}},{key:"_getTextHeight",value:function t(){var e=this._attrs.attrs;if(e.height)return e.height;var n=e.lineCount,r=1*e.fontSize,i;return n>1?r*n+this._getSpaceingY()*(n-1):r}},{key:"_getSpaceingY",value:function t(){var e=this._attrs.attrs,n=e.lineHeight,r=1*e.fontSize;return n?n-r:.14*r}},{key:"drawInner",value:function t(e){var n=this._attrs.attrs,r=n.text,i=n.x,a=n.y;if(!(W(r)||isNaN(i)||isNaN(a))){var o=n.textArr,u=1*n.fontSize,s=this._getSpaceingY();n.rotate&&(e.translate(i,a),e.rotate(n.rotate),i=0,a=0);var l=n.textBaseline,c,h;if(o&&(c=this._getTextHeight()),this.hasFill()){var f=n.fillOpacity;if(W(f)||1===f||(e.globalAlpha=f),o)for(var v=0,p=o.length;v<p;v++){var d=o[v];h=a+v*(s+u)-c+u,"middle"===l&&(h+=c-u-(c-u)/2),"top"===l&&(h+=c-u),e.fillText(d,i,h)}else e.fillText(r,i,a)}if(this.hasStroke())if(o)for(var y=0,m=o.length;y<m;y++){var g=o[y];h=a+y*(s+u)-c+u,"middle"===l&&(h+=c-u-(c-u)/2),"top"===l&&(h+=c-u),e.strokeText(g,i,h)}else e.strokeText(r,i,a)}}},{key:"_getAriaLabel",value:function t(){return this._attrs.attrs.text}},{key:"calculateBox",value:function t(){var e=this._attrs.attrs,n=e.x,r=e.y,i=e.textAlign,a=e.textBaseline,o=this._getTextWidth();if(!o)return{minX:n,minY:r,maxX:n,maxY:r};var u=this._getTextHeight();if(e.rotate){var s=wn.calcRotatedBox({width:o,height:u,rotate:e.rotate});o=s.width,u=s.height}var l={x:n,y:r-u};return i&&("end"===i||"right"===i?l.x-=o:"center"===i&&(l.x-=o/2)),a&&("top"===a?l.y+=u:"middle"===a&&(l.y+=u/2)),{minX:l.x,minY:l.y,maxX:l.x+o,maxY:l.y+u}}},{key:"_getTextWidth",value:function t(){var e=this._attrs.attrs;if(e.width)return e.width;var n=e.text,r=this.get("context");if(!W(n)){var i=e.font,a=e.textArr,o=n+""+i;if(_n[o])return _n[o];var u=0;if(a)for(var s=0,l=a.length;s<l;s++){var c=a[s];u=Math.max(u,bn(c,i,r).width)}else u=bn(n,i,r).width;return Mn>5e3&&(Mn=0,_n={}),Mn++,_n[o]=u,u}}}]),n}($e),Cn,On=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.createPath=null,this._attrs.type="custom"}},{key:"createPath",value:function t(e){var n=this.get("createPath");n&&n.call(this,e)}},{key:"calculateBox",value:function t(){var e=this.get("calculateBox");return e&&e.call(this)}}]),n}($e),Dn={circle:function t(e,n,r,i){i.arc(e,n,r,0,2*Math.PI,!1)},square:function t(e,n,r,i){i.moveTo(e-r,n-r),i.lineTo(e+r,n-r),i.lineTo(e+r,n+r),i.lineTo(e-r,n+r),i.closePath()}},En,Tn=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){Je(D(n.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="marker"}},{key:"getDefaultAttrs",value:function t(){return{x:0,y:0,lineWidth:0}}},{key:"createPath",value:function t(e){var n=this.get("attrs"),r=n.x,i=n.y,a=n.radius,o=n.symbol||"circle",u;u=B(o)?o:Dn[o],e.beginPath(),u(r,i,a,e,this)}},{key:"calculateBox",value:function t(){var e=this.get("attrs"),n=e.x,r=e.y,i=e.radius;return{minX:n-i,minY:r-i,maxX:n+i,maxY:r+i}}}]),n}($e);$e.Rect=nn,$e.Image=on,$e.Circle=sn,$e.Line=cn,$e.Polygon=fn,$e.Polyline=dn,$e.Arc=mn,$e.Sector=xn,$e.Text=An,$e.Custom=On,$e.Marker=Tn;var Nn={},Yn="_INDEX";function In(t){return function(e,n){var r=t(e,n);return 0===r?e._INDEX-n._INDEX:r}}var jn={getGroupClass:function t(){},getChildren:function t(){return this.get("children")},addShape:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Nn[e];r||(r=ft(e),Nn[e]=r);var i=new $e[r](n);return this.add(i),i},addGroup:function t(e){var n,r=new(this.getGroupClass())(e);return this.add(r),r},contain:function t(e){var n;return this.get("children").indexOf(e)>-1},sort:function t(){for(var e=this.get("children"),n=0,r=e.length;n<r;n++){var i;e[n]._INDEX=n}return e.sort(In((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this},drawChildren:function t(e){for(var n=this.get("children"),r=0,i=n.length;r<i;r++){var a;n[r].draw(e)}return this},clear:function t(){for(var e=this.get("children");0!==e.length;)e[e.length-1].remove(!0);return this},add:function t(e){var n=this.get("children");z(e)||(e=[e]);for(var r=0,i=e.length;r<i;r++){var a=e[r],o=a.get("parent"),u;if(o)Re(o.get("children"),a);this._setEvn(a),n.push(a)}return this},_setEvn:function t(e){var n=this._attrs,r=n.context,i=n.canvas,a=n.aria,o=e._attrs,u=o.isGroup,s=o.type;e._attrs.parent=this,e._attrs.context=r,e._attrs.canvas=i,a&&!1!==e._attrs.aria&&(e._attrs.aria=a),"text"===s&&i&&i.get("fontFamily")&&!e._attrs.attrs.fontFamily&&e.attr("fontFamily",i.get("fontFamily"));var l=e._attrs.attrs.clip;if(l&&(l._attrs.parent=this,l._attrs.context=r,l._attrs.canvas=i),u)for(var c=e._attrs.children,h=0,f=c.length;h<f;h++)e._setEvn(c[h])},_getAriaLabel:function t(){var e=this._attrs,n=e.aria,r=e.ariaLabel,i=e.children;if(n){var a=[];if(i&&i.length)for(var o=0,u=i.length;o<u;o++){var s=i[o].getAriaLabel();s&&a.push(s)}var l=a.join(" ");return r&&l?"".concat(r," ").concat(l," "):r||l}}},Fn=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"_initProperties",value:function t(){this._attrs={type:"group",zIndex:0,visible:!0,destroyed:!1,isGroup:!0,canFill:!0,canStroke:!0,children:[],attrs:{x:0,y:0,width:0,height:0,radius:0,lineWidth:0}}}},{key:"getBBox",value:function t(){for(var e=1/0,n=-1/0,r=1/0,i=-1/0,a=this.get("children"),o=0,u=a.length;o<u;o++){var s=a[o];if(s.get("visible")){var l=s.getBBox();if(!l)continue;var c=[l.minX,l.minY],h=[l.minX,l.maxY],f=[l.maxX,l.minY],v=[l.maxX,l.maxY],p=s.attr("matrix");ne.transformMat2d(c,c,p),ne.transformMat2d(h,h,p),ne.transformMat2d(f,f,p),ne.transformMat2d(v,v,p),e=Math.min(c[0],h[0],f[0],v[0],e),n=Math.max(c[0],h[0],f[0],v[0],n),r=Math.min(c[1],h[1],f[1],v[1],r),i=Math.max(c[1],h[1],f[1],v[1],i)}}return{minX:e,minY:r,maxX:n,maxY:i,x:e,y:r,width:n-e,height:i-r}}},{key:"createPath",value:function t(e){var r=this.get("attrs");(r.fillStyle||r.strokeStyle)&&Je(D(n.prototype),"createPath",this).call(this,e)}},{key:"drawInner",value:function t(e){Je(D(n.prototype),"drawInner",this).call(this,e),this.drawChildren(e)}},{key:"destroy",value:function t(){this.get("destroyed")||(this.clear(),Je(D(n.prototype),"destroy",this).call(this))}}]),n}(nn);wt(Fn.prototype,jn,{getGroupClass:function t(){return Fn}});var Rn=Fn,Ln="object"===("undefined"==typeof window?"undefined":T(window))&&window.requestAnimationFrame?window.requestAnimationFrame:function(t){return setTimeout(t,16)},Bn={title:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c",withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002"},Wn={cartesian:"X\u8f74\u662f{xLabel}Y\u8f74\u662f{yLabel}"},zn={linear:"\u6570\u503c\u578b\uff0c\u6570\u636e\u6700\u5c0f\u503c\u4e3a{min}\uff0c\u6700\u5927\u503c\u4e3a{max}\uff1b",cat:"\u5206\u7c7b\u578b, \u5206\u7c7b\u7c7b\u578b\u6709\uff1a{values}\uff1b",timeCat:"\u65f6\u95f4\u578b\uff0c\u65f6\u95f4\u8303\u56f4\u4ece{start}\u5230{end}\uff1b"},Xn={prefix:"\u5171\u6709{count}\u79cd\u5206\u7c7b\u7ec4\u6210\uff0c",oneData:"\u7b2c{index}\u7c7b\u662f{name}\uff0c\u6570\u636e\u662f{values};",partData:"\u7b2c{index}\u7c7b\u662f{name}\uff0c\u5171\u6709{count}\u9879\u6570\u636e\uff0c\u524d{part}\u9879\u662f{values};",allData:"\u7b2c{index}\u7c7b\u662f{name}\uff0c\u6709{count}\u9879\u6570\u636e\uff0c\u5206\u522b\u662f{values};"},Hn={prefix:"\u56fe\u4f8b\u5206\u7c7b\u6709\uff1a"},Vn=xe,qn=Me,Gn=we,Un=be,Zn=ge,$n=function(t){O(n,t);var e=Y(n);function n(t){var r;P(this,n),r=e.call(this);var i=t.title,a=i?ht(Bn.withTitle,{title:i}):Bn.title;return r._attrs=wt({type:"canvas",children:[],ariaLabel:a},t),r._initPixelRatio(),r._initCanvas(),r}return C(n,[{key:"get",value:function t(e){return this._attrs[e]}},{key:"set",value:function t(e,n){this._attrs[e]=n}},{key:"_initPixelRatio",value:function t(){var e;this.get("pixelRatio")||this.set("pixelRatio",Vn())}},{key:"beforeDraw",value:function t(){var e=this._attrs.context,n=this._attrs.el;e&&e.clearRect&&e.clearRect(0,0,n.width,n.height)}},{key:"_initCanvas",value:function t(){var e=this.get("el"),n=this.get("context"),r;if(!e&&!n)throw new Error("Please specify the id, el or context of the chart!");r=e?K(e)?qn(e):e:Fe(n),n&&r&&!r.getContext&&(r.getContext=function(){return n});var i=this.get("width")||Gn(r)||r.width,a=this.get("height")||Un(r)||r.height;this.set("canvas",this),this.set("el",r),this.set("context",n||r.getContext("2d")),this.changeSize(i,a);var o=new Ye({canvas:this,el:r});this.set("eventController",o)}},{key:"changeSize",value:function t(e,n){var r=this.get("pixelRatio"),i=this.get("el"),a;(i.style&&(i.style.width=e+"px",i.style.height=n+"px"),Zn(i))&&(i.width=e*r,i.height=n*r,1!==r&&this.get("context").scale(r,r));this.set("width",e),this.set("height",n)}},{key:"getWidth",value:function t(){var e=this.get("pixelRatio"),n;return this.get("width")*e}},{key:"getHeight",value:function t(){var e=this.get("pixelRatio"),n;return this.get("height")*e}},{key:"getPointByClient",value:function t(e,n){var r=this.get("el"),i=r.getBoundingClientRect(),a=i.right-i.left,o=i.bottom-i.top;return{x:(e-i.left)*(r.width/a),y:(n-i.top)*(r.height/o)}}},{key:"_beginDraw",value:function t(){this._attrs.toDraw=!0}},{key:"_endDraw",value:function t(){this._attrs.toDraw=!1}},{key:"draw",value:function t(){var e=this,n=function t(){e.set("animateHandler",Ln((function(){e.set("animateHandler",void 0),e.get("toDraw")&&t()}))),e.beforeDraw();try{var n=e._attrs.context;e.drawChildren(n),n.draw&&n.draw(),e.setAriaLabel()}catch(r){console.warn("error in draw canvas, detail as:"),console.warn(r),e._endDraw()}e._endDraw()};this.get("destroyed")||(this.get("animateHandler")?this._beginDraw():n())}},{key:"setAriaLabel",value:function t(){var e=this._attrs.el,n=this._getAriaLabel();n&&e.setAttribute&&e.setAttribute("aria-label",n)}},{key:"destroy",value:function t(){if(!this.get("destroyed")){var e=this.get("el");e.width=0,e.height=0,this.clear(),this._attrs={},this.set("destroyed",!0)}}},{key:"isDestroyed",value:function t(){return this.get("destroyed")}}]),n}(me);wt($n.prototype,jn,{getGroupClass:function t(){return Rn}});var Qn=$n,Jn={};function Kn(t){var e=Jn[t];return e||{Canvas:Qn,Group:Rn,Shape:$e}}function tr(t){var e,n;return new(Kn(t.renderer).Canvas)(t)}function er(t){if(Array.isArray(t))return t}function nr(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r=[],i=!0,a=!1,o,u;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(s){a=!0,u=s}finally{try{i||null==n.return||n.return()}finally{if(a)throw u}}return r}}function rr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ir(t,e){if(t){if("string"==typeof t)return rr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(t,e):void 0}}function ar(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function or(t,e){return er(t)||nr(t,e)||ir(t,e)||ar()}var ur,sr=function(){function t(e){P(this,t),this.left=0,this.top=0,this.width=0,this.height=0,this.update(e)}return C(t,[{key:"update",value:function t(e){wt(this,e);var n=this.left,r=this.top,i=this.width,a=this.height;return this.right=n+i,this.bottom=r+a,this}},{key:"padding",value:function t(e){if(!e)return this;var n=e.top,r=void 0===n?0:n,i=e.right,a=void 0===i?0:i,o=e.bottom,u=void 0===o?0:o,s=e.left,l=void 0===s?0:s,c=this.top,h=this.right,f=this.bottom,v=this.left;return this.top=c+r,this.right=h-a,this.bottom=f-u,this.left=v+l,this.width=this.right-this.left,this.height=this.bottom-this.top,this}},{key:"clone",value:function e(){var n,r,i,a;return new t({left:this.left,top:this.top,width:this.width,height:this.height})}}],[{key:"fromStyle",value:function e(n){var r=n.left,i=n.top,a=n.width,o=n.height,u,s=or(n.padding,4),l=s[0],c=s[1],h=s[2],f=s[3];return new t({left:r+f,top:i+l,width:a-f-c,height:o-l-h})}}]),t}();function lr(t){return Object.prototype.toString.call(t)}function cr(t){return Object.keys(t)}function hr(t,e){if(t===e)return!0;if(T(t)!==T(e))return!1;if(null==t||null==e)return!1;if(Number.isNaN(t)&&Number.isNaN(e))return!0;if(lr(t)!==lr(e))return!1;if(B(t))return!0;if("object"!==T(t))return!1;if(z(t)){if(t.length!==e.length)return!1;for(var n=t.length-1;n>=0;n--)if(!hr(t[n],e[n]))return!1;return!0}if(!q(t))return!1;var r=cr(t),i=cr(e);if(r.length!==i.length)return!1;r.sort(),i.sort();for(var a=r.length-1;a>=0;a--)if(r[a]!=i[a])return!1;for(var o=r.length-1;o>=0;o--){var u=r[o];if(!hr(t[u],e[u]))return!1}return!0}var fr="object"===("undefined"==typeof window?"undefined":T(window))&&window.requestAnimationFrame?window.requestAnimationFrame:function(t){return setTimeout(t,16)},vr="object"===("undefined"==typeof window?"undefined":T(window))&&window.cancelAnimationFrame?window.cancelAnimationFrame:function(t){return clearTimeout(t)},pr="object"===("undefined"==typeof performance?"undefined":T(performance))&&performance.now?performance:Date,dr,yr=function(){function t(){P(this,t),this.playing=!1,this.paused=!1,this.pausedTime=0}return C(t,[{key:"play",value:function t(e,n,r){var i=this;if(e<=0)r();else if(!this.playing){this.duration=e,this.onUpdate=n,this.onEnd=r;var a=this.paused,o=this.pausedTime;this.playing=!0;var u=pr.now();a&&o&&(u-=o,this.paused=!1,this.pausedTime=0);var s=function t(){var a,o=pr.now()-u;return o>=e?(n(e),r(),void(i.playing=!1)):i.paused?(n(o),i.pausedTime=o,void(i.playing=!1)):(n(o),void(i.animationFrameNumber=fr(t)))};this.animationFrameNumber=fr(s)}}},{key:"pause",value:function t(){this.paused=!0}},{key:"stop",value:function t(){this.playing=!1}},{key:"end",value:function t(){this.playing&&(this.abort(),this.onUpdate(this.duration),this.onEnd())}},{key:"abort",value:function t(){this.animationFrameNumber&&(vr(this.animationFrameNumber),this.playing=!1,this.animationFrameNumber=null)}}]),t}();function mr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xr(){}var kr=.7,wr=1/.7,br="\\s*([+-]?\\d+)\\s*",Mr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_r="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sr=/^#([0-9a-f]{3,8})$/,Pr=new RegExp("^rgb\\("+[br,br,br]+"\\)$"),Ar=new RegExp("^rgb\\("+[_r,_r,_r]+"\\)$"),Cr=new RegExp("^rgba\\("+[br,br,br,Mr]+"\\)$"),Or=new RegExp("^rgba\\("+[_r,_r,_r,Mr]+"\\)$"),Dr=new RegExp("^hsl\\("+[Mr,_r,_r]+"\\)$"),Er=new RegExp("^hsla\\("+[Mr,_r,_r,Mr]+"\\)$"),Tr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Nr(){return this.rgb().formatHex()}function Yr(){return qr(this).formatHsl()}function Ir(){return this.rgb().formatRgb()}function jr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Sr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Fr(e):3===n?new Wr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Rr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Rr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Pr.exec(t))?new Wr(e[1],e[2],e[3],1):(e=Ar.exec(t))?new Wr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Cr.exec(t))?Rr(e[1],e[2],e[3],e[4]):(e=Or.exec(t))?Rr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Dr.exec(t))?Vr(e[1],e[2]/100,e[3]/100,1):(e=Er.exec(t))?Vr(e[1],e[2]/100,e[3]/100,e[4]):Tr.hasOwnProperty(t)?Fr(Tr[t]):"transparent"===t?new Wr(NaN,NaN,NaN,0):null}function Fr(t){return new Wr(t>>16&255,t>>8&255,255&t,1)}function Rr(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wr(t,e,n,r)}function Lr(t){return t instanceof xr||(t=jr(t)),t?new Wr((t=t.rgb()).r,t.g,t.b,t.opacity):new Wr}function Br(t,e,n,r){return 1===arguments.length?Lr(t):new Wr(t,e,n,null==r?1:r)}function Wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function zr(){return"#"+Hr(this.r)+Hr(this.g)+Hr(this.b)}function Xr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Hr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Vr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ur(t,e,n,r)}function qr(t){if(t instanceof Ur)return new Ur(t.h,t.s,t.l,t.opacity);if(t instanceof xr||(t=jr(t)),!t)return new Ur;if(t instanceof Ur)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new Ur(o,u,s,t.opacity)}function Gr(t,e,n,r){return 1===arguments.length?qr(t):new Ur(t,e,n,null==r?1:r)}function Ur(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Zr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}mr(xr,jr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Nr,formatHex:Nr,formatHsl:Yr,formatRgb:Ir,toString:Ir}),mr(Wr,Br,gr(xr,{brighter:function(t){return t=null==t?wr:Math.pow(wr,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zr,formatHex:zr,formatRgb:Xr,toString:Xr})),mr(Ur,Gr,gr(xr,{brighter:function(t){return t=null==t?wr:Math.pow(wr,t),new Ur(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ur(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wr(Zr(t>=240?t-240:t+120,i,r),Zr(t,i,r),Zr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var $r=t=>()=>t;function Qr(t,e){return function(n){return t+n*e}}function Jr(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Kr(t){return 1==(t=+t)?ti:function(e,n){return n-e?Jr(e,n,t):$r(isNaN(e)?n:e)}}function ti(t,e){var n=e-t;return n?Qr(t,n):$r(isNaN(t)?e:t)}var ei=function t(e){var n=Kr(e);function r(t,e){var r=n((t=Br(t)).r,(e=Br(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=ti(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function ni(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function ri(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ii(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=vi(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(t){for(o=0;o<r;++o)a[o]=i[o](t);return a}}function ai(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function oi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ui(t,e){var n={},r={},i;for(i in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)i in t?n[i]=vi(t[i],e[i]):r[i]=e[i];return function(t){for(i in n)r[i]=n[i](t);return r}}var si=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,li=new RegExp(si.source,"g");function ci(t){return function(){return t}}function hi(t){return function(e){return t(e)+""}}function fi(t,e){var n=si.lastIndex=li.lastIndex=0,r,i,a,o=-1,u=[],s=[];for(t+="",e+="";(r=si.exec(t))&&(i=li.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,s.push({i:o,x:oi(r,i)})),n=li.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?s[0]?hi(s[0].x):ci(e):(e=s.length,function(t){for(var n=0,r;n<e;++n)u[(r=s[n]).i]=r.x(t);return u.join("")})}function vi(t,e){var n=typeof e,r;return null==e||"boolean"===n?$r(e):("number"===n?oi:"string"===n?(r=jr(e))?(e=r,ei):fi:e instanceof jr?ei:e instanceof Date?ai:ri(e)?ni:Array.isArray(e)?ii:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ui:oi)(t,e)}function pi(t,e){var n=t?t.length:0,r=e?e.length:0,i=Math.max(r,n),a=new Array(i),o=new Array(i),u;for(u=0;u<i;u++){var s=u<n?(t||[])[u]:(t||[])[n-1],l=u<r?(e||[])[u]:(e||[])[r-1];o[u]=ui(s,l)}return function(t){if(t>=1)return e;for(u=0;u<i;++u)a[u]=o[u](t);return a}}var di=function(t,e){return"string"==typeof e?ei(t,e):Array.isArray(e)?"number"!=typeof e[0]?pi(t,e):ni(t,e):oi(t,e)};function yi(t){return t}function mi(t){return t*t}function gi(t){return t*(2-t)}function xi(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}function ki(t){return t*t*t}function wi(t){return--t*t*t+1}function bi(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}function Mi(t){return t*t*t*t}function _i(t){return 1-t*t*t*t}function Si(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}function Pi(t){return t*t*t*t*t}function Ai(t){return--t*t*t*t*t+1}function Ci(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}function Oi(t){return 0===t?0:Math.pow(1024,t-1)}function Di(t){return 1===t?1:1-Math.pow(2,-10*t)}function Ei(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=r/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r))}function Ti(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=r/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)}function Ni(t){var e,n=.1,r=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=r/(2*Math.PI)*Math.asin(1/n),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)}function Yi(t){var e=1.70158;return t*t*((e+1)*t-e)}function Ii(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1}function ji(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}function Fi(t){return 1-Ri(1-t)}function Ri(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Li(t){return t<.5?.5*Fi(2*t):.5*Ri(2*t-1)+.5}var Bi=Object.freeze(Object.defineProperty({__proto__:null,linear:yi,quadraticIn:mi,quadraticOut:gi,quadraticInOut:xi,cubicIn:ki,cubicOut:wi,cubicInOut:bi,quarticIn:Mi,quarticOut:_i,quarticInOut:Si,elasticIn:Ei,elasticOut:Ti,elasticInOut:Ni,backIn:Yi,backOut:Ii,backInOut:ji,bounceIn:Fi,bounceOut:Ri,bounceInOut:Li,exponentialIn:Oi,exponentialOut:Di,quinticIn:Pi,quinticOut:Ai,quinticInOut:Ci},Symbol.toStringTag,{value:"Module"}));function Wi(t,e){if(null==t)return{};var n=s(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var zi=["key","ref"],Xi;function Hi(t,e){for(var n=e||{},r=n.key,i=n.ref,a=Wi(n,zi),o=arguments.length,u=new Array(o>2?o-2:0),s=2;s<o;s++)u[s-2]=arguments[s];return u.length&&(a.children=1===u.length?u[0]:u),{key:r,ref:i,type:t,props:a,_cache:{}}}try{Xi=parseInt(document.documentElement.style.fontSize,10)||50}catch(Bh){Xi=50}var Vi=Xi/100;function qi(t){return t?Number((t*Vi).toFixed(1)):0}function Gi(t){if(st(t))return[t,t,t,t];var e=t[0],n=st(t[1])?t[1]:t[0],r,i;return[e,n,st(t[2])?t[2]:e,st(t[3])?t[3]:n]}function Ui(t){var e;return function e(n){if(K(n)&&/^-?\d+px$/.test(n)){var r=n.substr(0,n.length-2);return t(Number(r))}if(z(n))return n.map((function(t){return e(t)}));if(q(n)){var i={};for(var a in n)if(n.hasOwnProperty(a)){var o=e(n[a]);if(!o){i[a]=o;continue}if("padding"===a||"margin"===a){var u=Gi(o);i[a]=u,i["".concat(a,"Top")]=u[0],i["".concat(a,"Right")]=u[1],i["".concat(a,"Bottom")]=u[2],i["".concat(a,"Left")]=u[3];continue}i[a]=o}return i}return n}}function Zi(t,e){if(!t)return t;if(!z(t))return[e(t)];for(var n=[],r=0;r<t.length;r++){var i=t[r];z(i)?n=n.concat(Zi(i,e)):i&&n.push(e(i))}return n}function $i(t){return K(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),yt(t)&&(t=t.getTime()),t}var Qi=Ui(qi),Ji,Ki="inherit",ta="ltr",ea="rtl",na="row",ra="row-reverse",ia="column",aa="column-reverse",oa="flex-start",ua="center",sa="flex-end",la="space-between",ca="space-around",ha="flex-start",fa="center",va="flex-end",pa="stretch",da="relative",ya="absolute",ma={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},ga={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},xa={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},ka={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function wa(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(wa),t}function ba(t){return void 0===t}function Ma(t){return"row"===t||"row-reverse"===t}function _a(t){return"column"===t||"column-reverse"===t}function Sa(t,e){if(void 0!==t.style.marginStart&&Ma(e))return t.style.marginStart;var n=null;switch(e){case"row":n=t.style.marginLeft;break;case"row-reverse":n=t.style.marginRight;break;case"column":n=t.style.marginTop;break;case"column-reverse":n=t.style.marginBottom}return void 0!==n?n:void 0!==t.style.margin?t.style.margin:0}function Pa(t,e){if(void 0!==t.style.marginEnd&&Ma(e))return t.style.marginEnd;var n=null;switch(e){case"row":n=t.style.marginRight;break;case"row-reverse":n=t.style.marginLeft;break;case"column":n=t.style.marginBottom;break;case"column-reverse":n=t.style.marginTop}return null!=n?n:void 0!==t.style.margin?t.style.margin:0}function Aa(t,e){if(void 0!==t.style.paddingStart&&t.style.paddingStart>=0&&Ma(e))return t.style.paddingStart;var n=null;switch(e){case"row":n=t.style.paddingLeft;break;case"row-reverse":n=t.style.paddingRight;break;case"column":n=t.style.paddingTop;break;case"column-reverse":n=t.style.paddingBottom}return null!=n&&n>=0?n:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}function Ca(t,e){if(void 0!==t.style.paddingEnd&&t.style.paddingEnd>=0&&Ma(e))return t.style.paddingEnd;var n=null;switch(e){case"row":n=t.style.paddingRight;break;case"row-reverse":n=t.style.paddingLeft;break;case"column":n=t.style.paddingBottom;break;case"column-reverse":n=t.style.paddingTop}return null!=n&&n>=0?n:void 0!==t.style.padding&&t.style.padding>=0?t.style.padding:0}function Oa(t,e){if(void 0!==t.style.borderStartWidth&&t.style.borderStartWidth>=0&&Ma(e))return t.style.borderStartWidth;var n=null;switch(e){case"row":n=t.style.borderLeftWidth;break;case"row-reverse":n=t.style.borderRightWidth;break;case"column":n=t.style.borderTopWidth;break;case"column-reverse":n=t.style.borderBottomWidth}return null!=n&&n>=0?n:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function Da(t,e){if(void 0!==t.style.borderEndWidth&&t.style.borderEndWidth>=0&&Ma(e))return t.style.borderEndWidth;var n=null;switch(e){case"row":n=t.style.borderRightWidth;break;case"row-reverse":n=t.style.borderLeftWidth;break;case"column":n=t.style.borderBottomWidth;break;case"column-reverse":n=t.style.borderTopWidth}return null!=n&&n>=0?n:void 0!==t.style.borderWidth&&t.style.borderWidth>=0?t.style.borderWidth:0}function Ea(t,e){return Aa(t,e)+Oa(t,e)}function Ta(t,e){return Ca(t,e)+Da(t,e)}function Na(t,e){return Oa(t,e)+Da(t,e)}function Ya(t,e){return Sa(t,e)+Pa(t,e)}function Ia(t,e){return Ea(t,e)+Ta(t,e)}function ja(t){return t.style.justifyContent?t.style.justifyContent:"flex-start"}function Fa(t){return t.style.alignContent?t.style.alignContent:"flex-start"}function Ra(t,e){return e.style.alignSelf?e.style.alignSelf:t.style.alignItems?t.style.alignItems:"stretch"}function La(t,e){if("rtl"===e){if("row"===t)return"row-reverse";if("row-reverse"===t)return"row"}return t}function Ba(t,e){var n;return"inherit"===(n=t.style.direction?t.style.direction:"inherit")&&(n=void 0===e?"ltr":e),n}function Wa(t){return t.style.flexDirection?t.style.flexDirection:"column"}function za(t,e){return _a(t)?La("row",e):"column"}function Xa(t){return t.style.position?t.style.position:"relative"}function Ha(t){return"relative"===Xa(t)&&t.style.flex>0}function Va(t){return"wrap"===t.style.flexWrap}function qa(t,e){return t.layout[ka[e]]+Ya(t,e)}function Ga(t,e){return void 0!==t.style[ka[e]]&&t.style[ka[e]]>=0}function Ua(t,e){return void 0!==t.style[e]}function Za(t){return void 0!==t.style.measure}function $a(t,e){return void 0!==t.style[e]?t.style[e]:0}function Qa(t,e,n){var r={row:t.style.minWidth,"row-reverse":t.style.minWidth,column:t.style.minHeight,"column-reverse":t.style.minHeight}[e],i={row:t.style.maxWidth,"row-reverse":t.style.maxWidth,column:t.style.maxHeight,"column-reverse":t.style.maxHeight}[e],a=n;return void 0!==i&&i>=0&&a>i&&(a=i),void 0!==r&&r>=0&&a<r&&(a=r),a}function Ja(t,e){return t>e?t:e}function Ka(t,e){void 0===t.layout[ka[e]]&&Ga(t,e)&&(t.layout[ka[e]]=Ja(Qa(t,e,t.style[ka[e]]),Ia(t,e)))}function to(t,e,n){e.layout[ga[n]]=t.layout[ka[n]]-e.layout[ka[n]]-e.layout[xa[n]]}function eo(t,e){return void 0!==t.style[ma[e]]?$a(t,ma[e]):-$a(t,ga[e])}function no(t,e,n){var r=Ba(t,n),i=La(Wa(t),r),a=za(i,r),o=La("row",r);Ka(t,i),Ka(t,a),t.layout.direction=r,t.layout[ma[i]]+=Sa(t,i)+eo(t,i),t.layout[ga[i]]+=Pa(t,i)+eo(t,i),t.layout[ma[a]]+=Sa(t,a)+eo(t,a),t.layout[ga[a]]+=Pa(t,a)+eo(t,a);var u=t.children.length,s=Ia(t,o);if(Za(t)){var l=!ba(t.layout[ka[o]]),c=undefined;c=Ga(t,o)?t.style.width:l?t.layout[ka[o]]:e-Ya(t,o),c-=s;var h=!Ga(t,o)&&!l,f=!Ga(t,"column")&&ba(t.layout[ka.column]);if(h||f){var v=t.style.measure(c);h&&(t.layout.width=v.width+s),f&&(t.layout.height=v.height+Ia(t,"column"))}if(0===u)return}var p=Va(t),d=ja(t),y=Ea(t,i),m=Ea(t,a),g=Ia(t,i),x=Ia(t,a),k=!ba(t.layout[ka[i]]),w=!ba(t.layout[ka[a]]),b=Ma(i),M,_,S,P,A=null,C=null,O=undefined;k&&(O=t.layout[ka[i]]-g);for(var D=0,E=0,T=0,N=0,Y=0,I=0;E<u;){var j=0,F=0,R=0,L=0,B=k&&"flex-start"===d||!k&&"center"!==d,W=B?u:D,z=!0,X=u,H=null,V=null,q=y,G=0,U;for(M=D;M<u;++M){var Z;if((S=t.children[M]).lineIndex=I,S.nextAbsoluteChild=null,S.nextFlexChild=null,"stretch"===(Z=Ra(t,S))&&"relative"===Xa(S)&&w&&!Ga(S,a))S.layout[ka[a]]=Ja(Qa(S,a,t.layout[ka[a]]-x-Ya(S,a)),Ia(S,a));else if("absolute"===Xa(S))for(null===A&&(A=S),null!==C&&(C.nextAbsoluteChild=S),C=S,_=0;_<2;_++)P=0!==_?"row":"column",!ba(t.layout[ka[P]])&&!Ga(S,P)&&Ua(S,ma[P])&&Ua(S,ga[P])&&(S.layout[ka[P]]=Ja(Qa(S,P,t.layout[ka[P]]-Ia(t,P)-Ya(S,P)-$a(S,ma[P])-$a(S,ga[P])),Ia(S,P)));var $=0;if(k&&Ha(S)?(F++,R+=S.style.flex,null===H&&(H=S),null!==V&&(V.nextFlexChild=S),V=S,$=Ia(S,i)+Ya(S,i)):(U=undefined,b||(U=Ga(t,o)?t.layout[ka[o]]-s:e-Ya(t,o)-s),0===T&&oo(S,U,r),"relative"===Xa(S)&&(L++,$=qa(S,i))),p&&k&&j+$>O&&M!==D){L--,T=1;break}B&&("relative"!==Xa(S)||Ha(S))&&(B=!1,W=M),z&&("relative"!==Xa(S)||"stretch"!==Z&&"flex-start"!==Z||ba(S.layout[ka[a]]))&&(z=!1,X=M),B&&(S.layout[xa[i]]+=q,k&&to(t,S,i),q+=qa(S,i),G=Ja(G,Qa(S,a,qa(S,a)))),z&&(S.layout[xa[a]]+=N+m,w&&to(t,S,a)),T=0,j+=$,E=M+1}var Q=0,J=0,K=0;if(K=k?O-j:Ja(j,0)-j,0!==F){var tt=K/R,et,nt;for(V=H;null!==V;)(et=tt*V.style.flex+Ia(V,i))!==(nt=Qa(V,i,et))&&(K-=nt,R-=V.style.flex),V=V.nextFlexChild;for((tt=K/R)<0&&(tt=0),V=H;null!==V;)V.layout[ka[i]]=Qa(V,i,tt*V.style.flex+Ia(V,i)),U=undefined,Ga(t,o)?U=t.layout[ka[o]]-s:b||(U=e-Ya(t,o)-s),oo(V,U,r),S=V,V=V.nextFlexChild,S.nextFlexChild=null}else"flex-start"!==d&&("center"===d?Q=K/2:"flex-end"===d?Q=K:"space-between"===d?(K=Ja(K,0),J=F+L-1!=0?K/(F+L-1):0):"space-around"===d&&(Q=(J=K/(F+L))/2));for(q+=Q,M=W;M<E;++M)"absolute"===Xa(S=t.children[M])&&Ua(S,ma[i])?S.layout[xa[i]]=$a(S,ma[i])+Oa(t,i)+Sa(S,i):(S.layout[xa[i]]+=q,k&&to(t,S,i),"relative"===Xa(S)&&(q+=J+qa(S,i),G=Ja(G,Qa(S,a,qa(S,a)))));var rt=t.layout[ka[a]];for(w||(rt=Ja(Qa(t,a,G+x),x)),M=X;M<E;++M)if("absolute"===Xa(S=t.children[M])&&Ua(S,ma[a]))S.layout[xa[a]]=$a(S,ma[a])+Oa(t,a)+Sa(S,a);else{var it=m,Z;if("relative"===Xa(S))if("stretch"===(Z=Ra(t,S)))ba(S.layout[ka[a]])&&(S.layout[ka[a]]=Ja(Qa(S,a,rt-x-Ya(S,a)),Ia(S,a)));else if("flex-start"!==Z){var at=rt-x-qa(S,a);it+="center"===Z?at/2:at}S.layout[xa[a]]+=N+it,w&&to(t,S,a)}N+=G,Y=Ja(Y,q),I+=1,D=E}if(I>1&&w){var ot=t.layout[ka[a]]-x,ut=ot-N,st=0,lt=m,ct=Fa(t);"flex-end"===ct?lt+=ut:"center"===ct?lt+=ut/2:"stretch"===ct&&ot>N&&(st=ut/I);var ht=0;for(M=0;M<I;++M){var ft=ht,vt=0;for(_=ft;_<u;++_)if("relative"===Xa(S=t.children[_])){if(S.lineIndex!==M)break;ba(S.layout[ka[a]])||(vt=Ja(vt,S.layout[ka[a]]+Ya(S,a)))}for(ht=_,vt+=st,_=ft;_<ht;++_)if("relative"===Xa(S=t.children[_])){var pt=Ra(t,S);if("flex-start"===pt)S.layout[xa[a]]=lt+Sa(S,a);else if("flex-end"===pt)S.layout[xa[a]]=lt+vt-Pa(S,a)-S.layout[ka[a]];else if("center"===pt){var dt=S.layout[ka[a]];S.layout[xa[a]]=lt+(vt-dt)/2}else"stretch"===pt&&(S.layout[xa[a]]=lt+Sa(S,a))}lt+=vt}}var yt=!1,mt=!1;if(k||(t.layout[ka[i]]=Ja(Qa(t,i,Y+Ta(t,i)),g),"row-reverse"!==i&&"column-reverse"!==i||(yt=!0)),w||(t.layout[ka[a]]=Ja(Qa(t,a,N+x),x),"row-reverse"!==a&&"column-reverse"!==a||(mt=!0)),yt||mt)for(M=0;M<u;++M)S=t.children[M],yt&&to(t,S,i),mt&&to(t,S,a);for(C=A;null!==C;){for(_=0;_<2;_++)P=0!==_?"row":"column",!ba(t.layout[ka[P]])&&!Ga(C,P)&&Ua(C,ma[P])&&Ua(C,ga[P])&&(C.layout[ka[P]]=Ja(Qa(C,P,t.layout[ka[P]]-Na(t,P)-Ya(C,P)-$a(C,ma[P])-$a(C,ga[P])),Ia(C,P))),Ua(C,ga[P])&&!Ua(C,ma[P])&&(C.layout[ma[P]]=t.layout[ka[P]]-C.layout[ka[P]]-$a(C,ga[P]));S=C,C=C.nextAbsoluteChild,S.nextAbsoluteChild=null}}function ro(t){var e=t.style,n={};["marginTop","marginRight","marginBottom","marginLeft"].forEach((function(t){var r=e[t];r&&/^-?\d+%$/.test(r)&&(n[t]=r,e[t]=0)})),t.margin=n}function io(t){var e;return Number(t.substr(0,t.length-1))/100}function ao(t){var e=t.margin,n=t.layout;Object.keys(e).forEach((function(t){var r=io(e[t]);"marginLeft"!==t&&"marginRight"!==t||!n.width?"marginTop"!==t&&"marginBottom"!==t||!n.height||(n.top+=n.height*r):n.left+=n.width*r}))}function oo(t,e,n){t.shouldUpdate=!0,ro(t);var r=t.style.direction||"ltr",i;!t.isDirty&&t.lastLayout&&t.lastLayout.requestedHeight===t.layout.height&&t.lastLayout.requestedWidth===t.layout.width&&t.lastLayout.parentMaxWidth===e&&t.lastLayout.direction===r?(t.layout.width=t.lastLayout.width,t.layout.height=t.lastLayout.height,t.layout.top=t.lastLayout.top,t.layout.left=t.lastLayout.left):(t.lastLayout||(t.lastLayout={}),t.lastLayout.requestedWidth=t.layout.width,t.lastLayout.requestedHeight=t.layout.height,t.lastLayout.parentMaxWidth=e,t.lastLayout.direction=r,t.children.forEach((function(t){t.layout.width=void 0,t.layout.height=void 0,t.layout.top=0,t.layout.left=0})),no(t,e,n),t.lastLayout.width=t.layout.width,t.lastLayout.height=t.layout.height,t.lastLayout.top=t.layout.top,t.lastLayout.left=t.layout.left),ao(t)}function uo(t){if(!t)return t;var e=t.style,n=t.children;if(e)return wa(t),oo(t,null,null),t;if(n&&n.length)for(var r=0,i=n.length;r<i;r++)uo(n[r]);return t}var so=function(t){var e,n,r,i;return{x:t.left,y:t.top,width:t.width,height:t.height}},lo,co,ho,fo,vo={rect:so,line:function(t){var e=t.left,n=t.top,r,i;return{x1:e,y1:n,x2:e+t.width,y2:n+t.height}},text:function(t){var e=t.height,n,r;return{x:t.left,y:t.top+e/2,textBaseline:"middle"}},circle:function(t){var e=t.left,n=t.top,r,i=t.width/2;return{x:e+i,y:n+i,r:i}},marker:function(t){var e=t.left,n=t.top,r,i=t.width/2;return{x:e+i,y:n,radius:i}},group:so},po=function(t,e){return e?(vo[t]||so)(e):null;var n},yo="appear",mo="update",go="delete";function xo(t,e){return new($e[ft(t)])(e)}var ko=function(t,e,n,r){if(!e)return null;var i=t.get("status"),a=e.clip,o=e.start,s=e.end,l=e.easing,c=e.delay,h=e.duration;if(a){var f=a.type,v=a.attrs,p=a.start,d=xo(f,{attrs:u(u({},v),p)});a.easing=a.easing||l,a.delay="number"==typeof a.delay?a.delay:c,a.duration=a.duration||h,a.element=d}var y=t.getDefaultAttrs();return u(u({},e),{},{start:u(u(u({},y),r),o),end:u(u({},"delete"===i?null:n),s)})};function wo(t,e,n){var r=t.key,i=t.ref,a=t._cache,o=t.type,s=t.props,l=t.status,c=t.animation,h=Zi(s.children,(function(t){return wo(t,e,n)})),f=n(s.style),v=n(s.attrs);if("text"===o){var p=e.addShape(o,{attrs:u({x:0,y:0},v)}),d=p.getBBox(),y=d.width,m=d.height;f=u({width:y,height:m},f),p.remove(!0)}return{key:r,ref:i,_cache:a,type:o,props:s,children:h,status:l,animation:c,style:f,attrs:v}}function bo(t,e){if(!t||!e)return e;var n=t.left,r=t.top,i=e.left,a=e.top;return u(u({},e),{},{left:n+i,top:r+a})}function Mo(t,e,n,r){var i=t._cache,a=void 0===i?{}:i,o=t.ref,s=t.type,l=t.props,c=t.attrs,h=t.layout,f=t.renderChildren,v=t.children,p=t.status,d=t.animation,y=bo(n,h),m=a.attrs,g=u(u(u({},po(s,y)),"delete"===p?m:null),c),x;if(a.attrs=g,g.clip){var k=g.clip;g.clip=xo(k.type,k)}if("group"===s){x=e.addGroup(u(u({},Ft(l,["children"])),{},{status:p,attrs:g}));var w=f||v;if(w&&w.length)for(var b=0,M=w.length;b<M;b++)Mo(w[b],x,y,r)}else x=e.addShape(s,u(u({},l),{},{status:p,attrs:g}));return!1!==r&&x.set("animation",ko(x,d,g,m)),o&&(o.current=x),x}function _o(t){var e=t.status,n=t.children;if("delete"===e)return null;if(!n||!n.length)return t;var r=n.filter((function(t){return!!_o(t)}));return t.children=r,t.renderChildren=n,t}function So(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qi;if(t){var i=wo(t,e,r),a=_o(i);return uo(a),Mo(i,e,null,n)}}function Po(t,e,n){if(!t)return t;var r=t,i=r.type,a=r.key,o=r.ref,s=r.props,l=r._cache,c=void 0===l?{}:l,h=Qt.map(s.children,(function(t){return Po(t,e,n)}));if(t={type:i,key:a,ref:o,_cache:c,props:u(u({},s),{},{children:h})},"function"==typeof i){var f=i(t.props,e,n);return f?Po(u(u({},f),{},{key:void 0!==a?a:f.key,ref:void 0!==o?o:f.ref}),e,n):f}return t}var Ao=function(t,e,n){return Po(t,e,n)},Co=["children","animation"],Oo=["children","animation"],Do=["children","animation"],Eo=["animation"],To=["animation"];function No(t){var e=!1,n=Qt.map(t,(function(t){if(!t)return t;var n=t.ref,r=t.key,i=t.type,a=t.props,o=t._cache,s=a.children,l=a.animation,c=Wi(a,Co),h="delete",f=l&&l.leave,v=No(s);return v||f?(e=!0,{ref:n,key:r,type:i,props:u(u({},c),{},{children:v}),_cache:o,animation:f,status:h}):null}));return e?n:null}function Yo(t){return Qt.map(t,(function(t){if(!t)return t;var e=t.ref,n=t.key,r=t.type,i=t.props,a=t._cache,o=i.children,s=i.animation,l=Wi(i,Oo),c="appear",h=s&&s.appear,f=Yo(o);return{ref:e,key:n,type:r,props:u(u({},l),{},{children:f}),_cache:a,animation:h,status:c}}))}function Io(t,e){var n=t.ref,r=t.key,i=t.type,a=t._cache,o=t.props,s=e._cache,l=e.props,c=o.children,h=o.animation,f=Wi(o,Do),v,p=Wo(c,l.children),d=wt(a,s),y=h&&h.update;return{ref:n,key:r,type:i,props:u(u({},f),{},{children:p}),_cache:d,animation:y,status:"update"}}function jo(t,e){return[No(e),Yo(t)]}function Fo(t,e){var n=t.key,r=t.type,i=t.ref,a=t.props,o=t._cache,s=e.type,l=e._cache,c=a.children,h=Qt.map(c,(function(t){if(!t)return t;var n=t.key,r=t.ref,i=t.type,a=t.props,o=t._cache;if(i!==s)return jo(t,e);var u=a.animation,c=Wi(a,Eo),h=u&&u.update;return{ref:r,key:n,type:i,props:c,_cache:wt(o,l),animation:h,status:"update"}}));return{key:n,type:r,ref:i,props:u(u({},a),{},{children:h}),_cache:o,status:"update"}}function Ro(t,e){var n=t.ref,r=t.key,i=t.type,a=t.props,o=t._cache,s=e.type,l=e.props,c=a.animation,h=Wi(a,To),f=l.children,v=c&&c.update;if(!v)return[No(e),Yo[t]];var p=null,d=Qt.map(f,(function(t){if(!t)return t;var e=t.type,n=t._cache;return e!==i?No(t):(p||(p=t),{type:i,props:a,_cache:n,animation:v,status:"update"})}));if(!p)return[No(e),Yo(t)];var y={ref:n,key:r,type:i,props:h,_cache:wt(o,p._cache),animation:v,status:"update"};return[{type:s,props:u(u({},l),{},{children:d}),status:"delete"},y]}function Lo(t,e){var n=t.type,r=e.type;return"group"===n?Fo(t,e):"group"===r?Ro(t,e):jo(t,e)}function Bo(t,e){for(var n={},r=t.length,i=e.length,a=0;a<i;a++){var o=e[a];if(o&&!W(o.key)){var u=o.key;n[u]=o}}for(var s=Math.max(r,i),l=[],c=0;c<s;c++){var h=t[c];if(h){var f=h.key;if(W(f))l.push(Wo(h,e[c]));else{var v=n[f];v&&delete n[f],l.push(Wo(h,v))}}else l.push(Wo(h,e[c]))}return Object.keys(n).forEach((function(t){l.push(Wo(null,n[t]))})),l}function Wo(t,e){if(!t&&!e)return null;if(!e)return Yo(t);if(!t)return No(e);var n,r;if(z(t)||z(e))return Bo(z(t)?t:[t],z(e)?e:[e]);var i=t.key,a=t.type,o=e.key,u=e.type;return W(i)||i===o?a!==u?Lo(t,e):Io(t,e):[No(e),Yo(t)]}var zo,Xo=function(){function t(e,n){P(this,t),this.isClip=!1,this.end=!1,this.element=e,this.animation=n;var r=n.property,i=void 0===r?[]:r,a=n.easing,o=n.duration,u=n.delay,s=void 0===u?0:u,l=n.start,c=n.end,h=n.onFrame,f=n.isClip,v=i.map((function(t){return K(t)?di(l[t],c[t]):t.interpolate?t.interpolate(l,c):void 0}));this.easing="function"==typeof a?a:Bi[a]||yi,this.property=i,this.interpolates=v,this.duration=o,this.delay=s,this.onFrame=h,this.totalDuration=o+s,this.isClip=f,this.update(0,0)}return C(t,[{key:"to",value:function t(e){var n=this.duration,r=this.delay,i=this.totalDuration,a=this.easing,o;if(!this.end&&!(e<=r)&&n){var u=e>=i?1:(e-r)/n;this.update(a(u),e),1===u&&this.onEnd()}}},{key:"update",value:function t(e,n){for(var r=this.element,i=this.interpolates,a=this.property,o=this.onFrame,s={},l=a.length-1;l>=0;l--){var c=a[l];K(c)?s[c]=i[l](e):s[c.name]=i[l](e)}o&&(s=u(u({},s),this.onFrame(e,n))),r.attr(s)}},{key:"onEnd",value:function t(){var e=this.animation,n=this.isClip,r=this.element,i=e.onEnd;i&&i.call(this),n&&r.remove(!0),"delete"===r._attrs.status&&r.remove(!0),r.set("animation",null),this.end=!0}}]),t}();function Ho(t,e){e(t);var n=t.get("children");if(n&&n.length)for(var r=0,i=n.length;r<i;r++){var a;Ho(n[r],e)}}var Vo,qo=function(){function t(e){P(this,t),this.timeline=new yr,this.canvas=e}return C(t,[{key:"createAnimator",value:function t(e,n){var r=n.duration,i=n.property,a=n.onFrame;if(r&&(i&&i.length||a))return new Xo(e,n)}},{key:"play",value:function t(e,n){var r=this,i=this.canvas,a=[],o=0,u=[];Ho(e,(function(t){var e=t._attrs,n=e.animation,i=e.status;if(n){var s=r.createAnimator(t,n);s&&(o=Math.max(o,s.totalDuration),a.push(s));var l=n.clip;if(l){l.isClip=!0;var c=l.element,h=r.createAnimator(c,l);h&&(o=Math.max(o,h.totalDuration),t.attr("clip",c),a.push(h))}}else"delete"===i&&u.push(t)}));for(var s=0,l=u.length;s<l;s++){var c=u[s],h=c._attrs.children;h&&h.length||c.remove(!0)}this.timeline.play(o,(function(t){for(var e=0,n=a.length;e<n;e++){var r;a[e].to(t)}t<o&&i.draw()}),(function(){for(var t=0,e=u.length;t<e;t++){var r;u[t].remove(!0)}i.draw(),n&&n()}))}},{key:"end",value:function t(){this.timeline.end()}},{key:"abort",value:function t(){this.timeline.abort()}}]),t}();function Go(t){var e=[],n=[],r=[],i;function a(){for(var i;i=e.shift();){var a=i,o=a.state,s=a.component,l=a.callback;s.prevState||(s.prevState=Object.assign({},s.state)),"function"==typeof o?Object.assign(s.state,o(s.prevState,s.props)):Object.assign(s.state,o),s.prevState=s.state,"function"==typeof l&&r.push({callback:l,component:s})}var c=[].concat(n);t.renderComponents(c),u(),n.length=0,r.length=0}function o(t,r,i){0===e.length&&setTimeout(a,0),e.push({component:t,state:r,callback:i}),n.indexOf(t)<0&&n.push(t)}function u(){for(var t=0;t<r.length;t++){var e=r[t],n=e.callback,i=e.component;n.call(i)}}return{enqueueForceUpdate:o,enqueueSetState:o}}var Uo,Zo,$o,Qo,Jo={fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif',pixelRatio:1,padding:[0,0,0,0],chart:{padding:["30px","30px","30px","30px"]},colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],shapes:{line:["line","dash","smooth"],point:["circle","hollowCircle","rect"],area:["area","smooth"],interval:["rect","pyramid","funnel"]},sizes:["4px","6px","8px","10px","12px"],shape:{line:{default:{lineWidth:"4px",lineJoin:"round",lineCap:"round"},smooth:{smooth:!0},dash:{lineDash:["8px","8px"]}},point:{default:{size:"6px"},hollowCircle:{lineWidth:"2px"}},area:{default:{fillOpacity:.1}},interval:{default:{}}},axis:{labelOffset:"15px",line:{stroke:"#E8E8E8",lineWidth:"1px"},label:{fill:"#808080",fontSize:"20px"},grid:{stroke:"#E8E8E8",lineWidth:"1px",lineDash:["4px"]}},guide:{line:{style:{stroke:"#a3a3a3",lineWidth:1},offsetX:0,offsetY:0},text:{style:{fill:"#787878",textBaseline:"middle"},offsetX:0,offsetY:0},rect:{style:{fill:"#fafafa"}},arc:{style:{stroke:"#a3a3a3"}},html:{offsetX:0,offsetY:0,alignX:"center",alignY:"middle"},tag:{offsetX:0,offsetY:0,side:4,background:{padding:5,radius:2,fill:"#1890FF"},textStyle:{fontSize:12,fill:"#fff",textAlign:"center",textBaseline:"middle"}},point:{offsetX:0,offsetY:0,style:{fill:"#fff",r:3,lineWidth:2,stroke:"#1890ff"}}}},Ko=["transformFrom"];function tu(t){return t?Qt.map(t,(function(t){return t?jt(t,["key","ref","type","props"]):t})):t}function eu(t,e,n){var r=t.container,i=t.context,a=t.updater,o=t.__lastElement,u=t.transformFrom,s=t.animate;r.clear(),n=dt(n)?n:s;var l=i.px2hd,c=o||u&&u.__lastElement,h=Ao(e,i,a);t.__lastElement=h;var f=!1!==n?Wo(h,c):h;return f?z(f)?f.map((function(t){return So(t,r,n,l)})):So(f,r,n,l):null}function nu(t,e){var n=e.animate;if(!1!==n){var r,i=t.props.animate;t.animate=dt(i)?i:n}else t.animate=!1}function ru(t){if(!t)return null;var e=t.__lastElement,n=t.children;if(e)return t;if(!n)return null;var r=null;return Qt.map(n,(function(t){if(!r&&t){var e=ru(t.component);e&&(r=e)}})),r}function iu(t){return t&&t.current?ru(t.current):null;var e}function au(t,e){var n=e.type,r=e.props,i=e.ref,a=t.container,o=t.context,u=t.updater,s=t.transformFrom,l=r.transformFrom,c=Wi(r,Ko),h;if(n.prototype&&n.prototype.isF2Component?h=new n(c,o,u):(h=new Kt(c,o,u)).render=function(){return n(this.props,o,u)},i&&(i.current=h),s&&(h.transformFrom=s),l){var f=l?iu(l):null;h.transformFrom=f}return h.container=a.addGroup(),h.context=o,h.updater=u,h}function ou(t){Qt.map(t,(function(t){var e=t.children,n;xt(e)?t.willMount&&t.willMount():t.willUpdate&&t.willUpdate()})),Qt.map(t,(function(t){var e=t.children,n=xt(e),r=t.render();hu(t,r,e),n?t.didMount&&t.didMount():t.didUpdate&&t.didUpdate()}))}function uu(t){Qt.map(t,(function(t){if(t){var e=t.component,n;if(e)e.willUnmount&&e.willUnmount(),uu(e.children),e.container.remove(!0),e.didUnmount&&e.didUnmount()}}))}function su(t,e){if(!t&&!e)return null;if(!t&&e)return uu(e),null;if(t&&!e)return t;var n=t.type,r=t.props,i=e.type,a=e.props,o=e.component;return n!==i?(uu(e),t):(t.component=o,hr(r,a)?null:t)}function lu(t,e,n){var r=[],i,a;return Qt.compare(e,n,(function(t,e){var n=su(t,e);n&&(r=r.concat(Qt.toArray(n).filter(Boolean)))})),ou(r.filter((function(t){var e=t.component,n=t.props;return!e||(!e.shouldUpdate||!1!==e.shouldUpdate(n))})).map((function(e){var n=e.component;if(n){var r=e.props;n.willReceiveProps&&n.willReceiveProps(r),n.props=r}else n=au(t,e);return e.component=n,nu(n,t),n}))),r.forEach((function(e){var n=e.component,r;t.container.add(n.container)})),e}function cu(t){if(!t)return!1;var e;if(!z(t))return"function"==typeof t.type;for(var n=0,r=t.length;n<r;n++)if(cu(t[n]))return!0;return!1}function hu(t,e,n){return e=tu(e),t.children=e,cu(e)?e=lu(t,e,n):eu(t,e),e}var fu="*",vu=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],a=this._events["*"]||[],o=function(r){for(var i=r.length,a=0;a<i;a++)if(r[a]){var o=r[a],u=o.callback,s;o.once&&(r.splice(a,1),0===r.length&&delete e._events[t],i--,a--),u.apply(e,n)}};o(i),o(a)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();function pu(t,e){return function(n,r){var i=r||{},a=i.fontSize,o=i.fontFamily,u=i.fontStyle,s=i.fontWeight,l=i.fontVariant,c=t.addShape("text",{attrs:{x:0,y:0,fontSize:e(a),fontFamily:o,fontStyle:u,fontWeight:s,fontVariant:l,text:n}}),h=c.getBBox(),f=h.width,v=h.height;return c.remove(!0),{width:f,height:v}}}var du,yu=function(t){O(n,t);var e=Y(n);function n(t){var r;P(this,n),r=e.call(this,t);var i=t.context,a=t.pixelRatio,s=t.width,l=t.height,c=t.animate,h=void 0===c||c,f=t.px2hd,v=t.theme,p=t.style,d=t.createImage,y=t.landscape,m=B(f)?Ui(f):Qi,g=m(At({},Jo,v)),x=tr({context:i,pixelRatio:a,fontFamily:g.fontFamily,width:s,height:l,createImage:d,landscape:y}),k=x._attrs,w=k.width,b=k.height,M=m(u({left:0,top:0,width:w,height:b,padding:g.padding},p)),_=sr.fromStyle(M),S=Go(o(r)),A={root:o(r),canvas:x,left:_.left,top:_.top,width:_.width,height:_.height,theme:g,px2hd:m,measureText:pu(x,m)},C=new qo(x);return r.canvas=x,r.container=x,r.layout=_,r.context=A,r.updater=S,r.animate=h,r.animation=C,r.theme=g,r._ee=new vu,r}return C(n,[{key:"renderComponents",value:function t(e){e&&e.length&&(ou(e),this.draw())}},{key:"update",value:function t(e){var n;hr(e,this.props)||(this.props=e,this.render())}},{key:"draw",value:function t(){var e=this.canvas,n;!1!==this.animate?this.play():e.draw()}},{key:"play",value:function t(){var e=this,n=this.canvas,r=this.animation;r.abort(),r.play(n,(function(){e.emit("animationEnd")}))}},{key:"render",value:function t(){var e=this.children,n,r;return hu(this,this.props.children,e),this.draw(),null}},{key:"destroy",value:function t(){var e;this.canvas.destroy()}},{key:"on",value:function t(e,n){this._ee.on(e,n)}},{key:"emit",value:function t(e,n){this._ee.emit(e,n)}},{key:"off",value:function t(e,n){this._ee.off(e,n)}}]),n}(Kt),mu,gu=function(){function t(){P(this,t)}return C(t,[{key:"getRectRange",value:function t(e){var n=e.left,r=e.top,i=e.width,a=e.height,o,u=or(e.padding,4),s=u[0],l=u[1],c=u[2],h=u[3];return{left:n+h,top:r+s,width:i-h-l,height:a-s-c}}},{key:"create",value:function t(e){var n=this.getRectRange(e),r=new sr(n);return this.layout=r,r}},{key:"update",value:function t(e){var n=this.getRectRange(e),r=this.layout;return r.update(n),r}}]),t}();function xu(t){var e=t.xMin,n=t.xMax,r,i;return{xMin:t.yMin,xMax:t.yMax,yMin:e,yMax:n}}function ku(t){var e=t.x,n=t.y,r=t.size,i=t.y0,a,o,u,s;return z(e)?(a=e[0],o=e[1]):(a=e-r/2,o=e+r/2),z(n)?(u=n[0],s=n[1]):(u=Math.min(i,n),s=Math.max(i,n)),{xMin:a,xMax:o,yMin:u,yMax:s}}var wu,bu=function(t){O(n,t);var e=Y(n);function n(t){var r;return P(this,n),(r=e.call(this,t)).transposed=!1,r.x=[0,1],r.y=[0,1],r.update(t),r}return C(n,[{key:"update",value:function t(e){Je(D(n.prototype),"update",this).call(this,e);var r=this.left,i=this.top,a=this.width,o=this.height;return this.center={x:r+a/2,y:i+o/2},this}},{key:"isCyclic",value:function t(){return!1}},{key:"_zoomVal",value:function t(e,n){return z(e)?e.map((function(t){return n(t)})):n(e)}},{key:"convert",value:function t(e){var n=this.transposed,r=this.x,i=this.y,a=n?"y":"x",o=n?"x":"y",u=e[a],s=e[o];return u<0||u>1||s<0||s>1?{x:NaN,y:NaN}:{x:this._zoomVal(e[a],(function(t){return r[0]+(r[1]-r[0])*t})),y:this._zoomVal(e[o],(function(t){return i[0]+(i[1]-i[0])*t}))}}},{key:"invert",value:function t(e){var n,r=this.transposed,i=this.x,a=this.y,o,u=r?"x":"y";return l(n={},r?"y":"x",this._zoomVal(e.x,(function(t){return(t-i[0])/(i[1]-i[0])}))),l(n,u,this._zoomVal(e.y,(function(t){return(t-a[0])/(a[1]-a[0])}))),n}},{key:"convertPoint",value:function t(e){return this.convert(e)}},{key:"invertPoint",value:function t(e){return this.invert(e)}},{key:"convertRect",value:function t(e){var n=this.x,r=this.y,i=this.transposed,a=or(n,2),o=a[0],u=a[1],s=or(r,2),l=s[0],c=s[1],h=ku(e),f=i?xu(h):h,v,p,d,y,m=o+(u-o)*f.xMin,g=o+(u-o)*f.xMax,x=l+(c-l)*f.yMin,k=l+(c-l)*f.yMax;return{xMin:Math.min(m,g),xMax:Math.max(m,g),yMin:Math.min(x,k),yMax:Math.max(x,k)}}},{key:"transformToRect",value:function t(e){var n=e.x,r=e.y,i=e.y0,a=e.size,o=this.convertPoint({x:0,y:i}),u=this.transposed,s,l=ku({size:a,x:u?r:n,y:u?n:r,y0:u?o.x:o.y}),c=u?xu(l):l,h,f,v,p;return{xMin:c.xMin,xMax:c.xMax,yMin:c.yMin,yMax:c.yMax}}}]),n}(sr),Mu,_u=function(t){O(n,t);var e=Y(n);function n(){var t;return P(this,n),(t=e.apply(this,arguments)).type="rect",t}return C(n,[{key:"update",value:function t(e){Je(D(n.prototype),"update",this).call(this,e);var r=this.left,i=this.top,a,o,u=[r,this.right],s=[this.bottom,i];return this.x=u,this.y=s,this}}]),n}(bu),Su,Pu,Au={rect:_u,polar:function(t){O(n,t);var e=Y(n);function n(){var t;return P(this,n),(t=e.apply(this,arguments)).type="polar",t.isPolar=!0,t}return C(n,[{key:"update",value:function t(e){Je(D(n.prototype),"update",this).call(this,e),this.option||(this.option=e);var r=this.option,i=r.radius,a=void 0===i?1:i,o=r.innerRadius,u=void 0===o?0:o,s=this.width,l=this.height,c=this.startAngle,h=void 0===c?-Math.PI/2:c,f=this.endAngle,v=void 0===f?3*Math.PI/2:f,p=a*(Math.min(s,l)/2),d=[h,v],y=[u*p,p];return this.x=d,this.y=y,this.startAngle=h,this.endAngle=v,this.radius=p,this.innnerRadius=u*p,this}},{key:"isCyclic",value:function t(){var e=this.startAngle,n;return!(this.endAngle-e<2*Math.PI)}},{key:"convertPoint",value:function t(e){var n=this.center,r=this.transposed,i=this.x,a=this.y,o=r?"y":"x",u=r?"x":"y",s=or(i,2),l=s[0],c=s[1],h=or(a,2),f=h[0],v=h[1],p=l+(c-l)*e[o],d=f+(v-f)*e[u];return{x:n.x+Math.cos(p)*d,y:n.y+Math.sin(p)*d}}},{key:"invertPoint",value:function t(e){var n=this.center,r=this.transposed,i=this.x,a=this.y,o=r?"y":"x",u=r?"x":"y",s=or(i,2),l=s[0],c=s[1],h=or(a,2),f=h[0],v=h[1],p=[1,0,0,1,0,0];ee.rotate(p,p,l);var d=[1,0];ne.transformMat2d(d,d,p),d=[d[0],d[1]];var y=[e.x-n.x,e.y-n.y];if(ne.zero(y))return{x:0,y:0};var m=ne.angleTo(d,y,c<l);Math.abs(m-2*Math.PI)<.001&&(m=0);var g,x=m/(c-l);x=c-l>0?x:-x;var k=(ne.length(y)-f)/(v-f),w={};return w[o]=x,w[u]=k,w}}]),n}(bu)},Cu,Ou=function(){function t(){P(this,t)}return C(t,[{key:"getOption",value:function t(e){if(K(e))return{type:Au[e]||_u};if(B(e))return{type:e};var n,r=(e||{}).type;return u(u({},e),{},{type:B(r)?r:Au[r]||_u})}},{key:"create",value:function t(e,n){var r=this.getOption(e),i,a=new(0,r.type)(u(u({},r),n));return this.coord=a,a}},{key:"updateLayout",value:function t(e){this.coord.update(e)}},{key:"update",value:function t(){}}]),t}(),Du={};function Eu(t){return Du[t]}function Tu(t,e){Du[t]=e}var Nu=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){wt(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return Et(this.ticks,(function(e,n){return X(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return W(r)||!B(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){wt(this,this.__cfg__),this.setDomain(),Dt(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(K(t)){var n=Eu(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else B(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return st(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),Yu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return Bt(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=st(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e;return st(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,Xt([i],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(W(this.getConfig("min"))&&(this.min=0),W(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(Nu),Iu=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,ju="\\d\\d?",Fu="\\d\\d",Ru="\\d{3}",Lu="\\d{4}",Bu="[^\\s]+",Wu=/\[([^]*?)\]/gm;function zu(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var Xu=function(t){return function(e,n){var r,i=n[t].map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase());return i>-1?i:null}};function Hu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];for(var o in a)t[o]=a[o]}return t}var Vu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],qu=["January","February","March","April","May","June","July","August","September","October","November","December"],Gu=zu(qu,3),Uu,Zu={dayNamesShort:zu(Vu,3),dayNames:Vu,monthNamesShort:Gu,monthNames:qu,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},$u=Hu({},Zu),Qu=function(t){return $u=Hu($u,t)},Ju=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ku=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},ts={D:function(t){return String(t.getDate())},DD:function(t){return Ku(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Ku(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Ku(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return Ku(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Ku(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Ku(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Ku(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Ku(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Ku(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Ku(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Ku(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Ku(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Ku(Math.floor(Math.abs(e)/60),2)+":"+Ku(Math.abs(e)%60,2)}},es=function(t){return+t-1},ns=[null,"\\d\\d?"],rs=[null,Bu],is=["isPm",Bu,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],as=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],os={D:["day","\\d\\d?"],DD:["day","\\d\\d"],Do:["day","\\d\\d?"+Bu,function(t){return parseInt(t,10)}],M:["month","\\d\\d?",es],MM:["month","\\d\\d",es],YY:["year","\\d\\d",function(t){var e,n=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?n-1:n)+t)}],h:["hour","\\d\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","\\d\\d?"],HH:["hour","\\d\\d"],m:["minute","\\d\\d?"],mm:["minute","\\d\\d"],s:["second","\\d\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond","\\d\\d",function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:ns,dd:ns,ddd:rs,dddd:rs,MMM:["month",Bu,Xu("monthNamesShort")],MMMM:["month",Bu,Xu("monthNames")],a:is,A:is,ZZ:as,Z:as},us={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},ss=function(t){return Hu(us,t)},ls=function(t,e,n){if(void 0===e&&(e=us.default),void 0===n&&(n={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var r=[];e=(e=us[e]||e).replace(Wu,(function(t,e){return r.push(e),"@@@"}));var i=Hu(Hu({},$u),n);return(e=e.replace(Iu,(function(e){return ts[e](t,i)}))).replace(/@@@/g,(function(){return r.shift()}))};function cs(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=us[e]||e,t.length>1e3)return null;var r,i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],u=e.replace(Wu,(function(t,e){return o.push(Ju(e)),"@@@"})),s={},l={};u=Ju(u).replace(Iu,(function(t){var e=os[t],n=e[0],r=e[1],i=e[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,i&&(l[i]=!0),a.push(e),"("+r+")"})),Object.keys(l).forEach((function(t){if(!s[t])throw new Error("Invalid format. "+t+" is required in specified format")})),u=u.replace(/@@@/g,(function(){return o.shift()}));var c=t.match(new RegExp(u,"i"));if(!c)return null;for(var h=Hu(Hu({},$u),n),f=1,v;f<c.length;f++){var p=a[f-1],d=p[0],y=p[2],m=y?y(c[f],h):+c[f];if(null==m)return null;i[d]=m}if(1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0),null==i.timezoneOffset){v=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var g=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],f=0,x=g.length;f<x;f++)if(s[g[f][0]]&&i[g[f][0]]!==v[g[f][1]]())return null}else if(v=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return v}var hs={format:ls,parse:cs,defaultI18n:Zu,setGlobalDateI18n:Qu,setGlobalDateMasks:ss},fs=Object.freeze(Object.defineProperty({__proto__:null,default:hs,assign:Hu,format:ls,parse:cs,defaultI18n:Zu,setGlobalDateI18n:Qu,setGlobalDateMasks:ss},Symbol.toStringTag,{value:"Module"}));function vs(t){return function(e,n,r,i){for(var a=W(r)?0:r,o=W(i)?e.length:i;a<o;){var u=a+o>>>1;t(e[u])>n?o=u:a=u+1}return a}}var ps="format";function ds(t,e){var n;return(fs.format||hs.format)(t,e)}function ys(t){return K(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),yt(t)&&(t=t.getTime()),t}var ms=1e3,gs=6e4,xs=36e5,ks=24*xs,ws=31*ks,bs=365*ks,Ms=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",xs],["HH",6*xs],["HH",12*xs],["YYYY-MM-DD",ks],["YYYY-MM-DD",4*ks],["YYYY-WW",7*ks],["YYYY-MM",ws],["YYYY-MM",4*ws],["YYYY-MM",6*ws],["YYYY",380*ks]];function _s(t,e,n){var r=(e-t)/n,i=vs((function(t){return t[1]}))(Ms,r)-1,a=Ms[i];return i<0?a=Ms[0]:i>=Ms.length&&(a=nt(Ms)),a}var Ss=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return Bt(e,t),e.prototype.translate=function(t){t=ys(t);var e=this.values.indexOf(t);return-1===e&&(e=st(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):ds(r,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;H(e,(function(t,n){e[n]=ys(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(Yu),Ps=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return Bt(e,t),e.prototype.scale=function(t){if(W(t))return NaN;var e=this.rangeMin(),n=this.rangeMax(),r,i,a;return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=et(e),r=nt(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),W(this.minLimit)||(this.min=n),W(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=Q(this.values),e=t.min,n=t.max;W(this.min)&&(this.min=e),W(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=j(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(Nu),As=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return Bt(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Ps);function Cs(t,e){var n=Math.E,r;return r=e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function Os(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function Ds(t,e,n){W(n)&&(n=Math.max.apply(null,t));var r=n;return H(t,(function(t){t>0&&t<r&&(r=t)})),r===n&&(r=n/e),r>1&&(r=1),r}var Es=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return Bt(e,t),e.prototype.invert=function(t){var e=this.base,n=Os(e,this.max),r=this.rangeMin(),i=this.rangeMax()-r,a,o=this.positiveMin;if(o){if(0===t)return 0;var u=1/(n-(a=Os(e,o/e)))*i;if(t<u)return t/u*o}else a=Os(e,this.min);var s,l=(t-r)/i*(n-a)+a;return Math.pow(e,l)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=Ds(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin,a;return i&&(n=1*i/r),a=t<i?t/i/(Os(r,e)-Os(r,n)):(Os(r,t)-Os(r,n))/(Os(r,e)-Os(r,n))},e}(Ps),Ts=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return Bt(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=Cs(n,this.max),i=Cs(n,this.min),a=e*(r-i)+i,o=a>=0?1:-1;return Math.pow(a,n)*o},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent,i;return(Cs(r,t)-Cs(r,n))/(Cs(r,e)-Cs(r,n))},e}(Ps),Ns=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return Bt(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):ds(n,this.mask)},e.prototype.scale=function(e){var n=e;return(K(n)||yt(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return ys(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if(W(e)&&st(e)||(this.min=this.translate(this.min)),W(n)&&st(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,a=i,o=0;H(t,(function(t){var e=ys(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(a=i,i=e):a>e&&(a=e),o<e&&(o=e),r.push(e)})),t.length>1&&(this.minTickInterval=a-i),W(e)&&(this.min=i),W(n)&&(this.max=o)}},e}(As),Ys=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return Bt(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return nt(e);if(i<0)return et(e);var a=e[i],o,u=i/(n-1),s;return a+(r-u)/((i+1)/(n-1)-u)*(e[i+1]-a)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(nt(e)!==this.max&&e.push(this.max),et(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<et(e))return 0;if(t>nt(e))return 1;var n=0;return H(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(Ps),Is=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return Bt(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Ys),js={};function Fs(t){return js[t]}function Rs(t,e){if(Fs(t))throw new Error("type '"+t+"' existed.");js[t]=e}var Ls=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return Bt(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&st(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(Nu);function Bs(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=t.showLast;if(st(n)){var a=j(e,(function(t,e){return e%n==0})),o=nt(e);return i&&nt(a)!==o&&a.push(o),a}var u=e.length,s=t.min,l=t.max;if(W(s)&&(s=0),W(l)&&(l=e.length-1),!st(r)||r>=u)return e.slice(s,l+1);if(r<=0||l<=0)return[];for(var c=1===r?u:Math.floor(u/(r-1)),h=[],f=s,v=0;v<r&&!(f>=l);v++)f=Math.min(s+v*c,l),v===r-1&&i?h.push(e[l]):h.push(e[f]);return h}function Ws(t){var e=t.min,n=t.max,r=t.nice,i=t.tickCount,a=new qs;return a.domain([e,n]),r&&a.nice(i),a.ticks(i)}var zs=5,Xs=Math.sqrt(50),Hs=Math.sqrt(10),Vs=Math.sqrt(2),qs=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var r=this._domain.slice(),i=0,a=this._domain.length-1,o=this._domain[i],u=this._domain[a],s;return u<o&&(o=(e=[u,o])[0],u=e[1],i=(n=[a,i])[0],a=n[1]),(s=Us(o,u,t))>0?s=Us(o=Math.floor(o/s)*s,u=Math.ceil(u/s)*s,t):s<0&&(s=Us(o=Math.ceil(o*s)/s,u=Math.floor(u*s)/s,t)),s>0?(r[i]=Math.floor(o/s)*s,r[a]=Math.ceil(u/s)*s,this.domain(r)):s<0&&(r[i]=Math.ceil(o*s)/s,r[a]=Math.floor(u*s)/s,this.domain(r)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),Gs(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function Gs(t,e,n){var r,i=-1,a,o,u;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(u=Us(t,e,n))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),e=Math.floor(e/u),o=new Array(a=Math.ceil(e-t+1));++i<a;)o[i]=(t+i)*u;else for(t=Math.floor(t*u),e=Math.ceil(e*u),o=new Array(a=Math.ceil(t-e+1));++i<a;)o[i]=(t-i)/u;return r&&o.reverse(),o}function Us(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Xs?10:a>=Hs?5:a>=Vs?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Xs?10:a>=Hs?5:a>=Vs?2:1)}function Zs(t,e,n){var r;return(r="ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function $s(t,e,n){var r=Zs(t,n,"floor"),i=Zs(e,n,"ceil");r=ut(r,n),i=ut(i,n);for(var a=[],o=Math.max((i-r)/(Math.pow(2,12)-1),n),u=r;u<=i;u+=o){var s=ut(u,o);a.push(s)}return{min:r,max:i,ticks:a}}function Qs(t,e,n){var r,i=t.minLimit,a=t.maxLimit,o=t.min,u=t.max,s=t.tickCount,l=void 0===s?5:s,c=W(i)?W(e)?o:e:i,h=W(a)?W(n)?u:n:a;if(c>h&&(h=(r=[c,h])[0],c=r[1]),l<=2)return[c,h];for(var f=(h-c)/(l-1),v=[],p=0;p<l;p++)v.push(c+f*p);return v}function Js(t){var e=t.min,n=t.max,r=t.tickInterval,i=t.minLimit,a=t.maxLimit,o=Ws(t);return W(i)&&W(a)?r?$s(e,n,r).ticks:o:Qs(t,et(o),nt(o))}function Ks(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var tl=[1,5,2,2.5,4,3],el=100*Number.EPSILON;function nl(t,e){return(t%e+e)%e}function rl(t){return Math.round(1e12*t)/1e12}function il(t,e,n,r,i,a){var o=Rt(e),u=Ct(e,t),s=0,l=nl(r,a);return(l<el||a-l<el)&&r<=0&&i>=0&&(s=1),1-u/(o-1)-n+s}function al(t,e,n){var r=Rt(e),i,a=1;return 1-Ct(e,t)/(r-1)-n+1}function ol(t,e,n,r,i,a){var o=(t-1)/(a-i),u=(e-1)/(Math.max(a,r)-Math.min(n,i));return 2-Math.max(o/u,u/o)}function ul(t,e){return t>=e?2-(t-1)/(e-1):1}function sl(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function ll(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function cl(){return 1}function hl(t,e,n,r,i,a){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=tl),void 0===a&&(a=[.25,.2,.5,.05]);var o=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!=typeof t||"number"!=typeof e||!o)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===o)return{min:t,max:e,ticks:[t]};if(e-t>1e148){var u,s=(e-t)/(u=n||5);return{min:t,max:e,ticks:Array(u).fill(null).map((function(e,n){return Ks(t+s*n)}))}}for(var l={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var h=0;h<i.length;h+=1){var f=i[h],v=al(f,i,c);if(a[0]*v+a[1]+a[2]+a[3]<l.score){c=1/0;break}for(var p=2;p<1/0;){var d=ul(p,o);if(a[0]*v+a[1]+a[2]*d+a[3]<l.score)break;for(var y=(e-t)/(p+1)/c/f,m=Math.ceil(Math.log10(y));m<1/0;){var g=c*f*Math.pow(10,m),x=ll(t,e,g*(p-1));if(a[0]*v+a[1]*x+a[2]*d+a[3]<l.score)break;var k=Math.floor(e/g)*c-(p-1)*c,w=Math.ceil(t/g)*c;if(k<=w)for(var u=w-k,b=0;b<=u;b+=1){var M,_=(k+b)*(g/c),S=_+g*(p-1),P=g,A=il(f,i,c,_,S,P),C=sl(t,e,_,S),O=ol(p,o,t,e,_,S),D=1,E=a[0]*A+a[1]*C+a[2]*O+1*a[3];E>l.score&&(!r||_<=t&&S>=e)&&(l.lmin=_,l.lmax=S,l.lstep=P,l.score=E)}m+=1}p+=1}}c+=1}var T=Ks(l.lmax),N=Ks(l.lmin),Y=Ks(l.lstep),I=Math.floor(rl((T-N)/Y))+1,j=new Array(I);j[0]=Ks(N);for(var h=1;h<I;h++)j[h]=Ks(j[h-1]+Y);return{min:Math.min(t,et(j)),max:Math.max(e,nt(j)),ticks:j}}function fl(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,a=t.tickInterval,o=t.minLimit,u=t.maxLimit,s=hl(e,n,r,i).ticks;return W(o)&&W(u)?a?$s(e,n,a).ticks:s:Qs(t,et(s),nt(s))}function vl(t){var e=t.base,n=t.tickCount,r=t.min,i=t.max,a=t.values,o,u=Os(e,i);if(r>0)o=Math.floor(Os(e,r));else{var s=Ds(a,e,i);o=Math.floor(Os(e,s))}for(var l=u-o,c=Math.ceil(l/n),h=[],f=o;f<u+c;f+=c)h.push(Math.pow(e,f));return r<=0&&h.unshift(0),h}function pl(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var r=n<0?0:Math.round(n);if(0===r)return{max:e,min:t,ticks:[]};var i=1.5,a=2.75,o,u=(e-t)/r,s=Math.pow(10,Math.floor(Math.log10(u))),l=s;2*s-u<i*(u-l)&&5*s-u<a*(u-(l=2*s))&&10*s-u<i*(u-(l=5*s))&&(l=10*s);for(var c=Math.ceil(e/l),h=Math.floor(t/l),f=Math.max(c*l,e),v=Math.min(h*l,t),p=Math.floor((f-v)/l)+1,d=new Array(p),y=0;y<p;y++)d[y]=Ks(v+y*l);return{min:v,max:f,ticks:d}}function dl(t){var e=t.exponent,n=t.tickCount,r=Math.ceil(Cs(e,t.max)),i,a;return pl(Math.floor(Cs(e,t.min)),r,n).ticks.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))}function yl(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function ml(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(t,e){return t-e})),i=[],a=0;a<e;a++){var o=a/(e-1);i.push(yl(r,o))}return i}function gl(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,a=t.minLimit,o=t.maxLimit,u=pl(e,n,r).ticks;return W(a)&&W(o)?i?$s(e,n,i).ticks:u:Qs(t,et(u),nt(u))}function xl(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickInterval,a=t.tickCount;if(i)a=Math.ceil((n-e)/i);else{var o,u=(n-e)/(i=_s(e,n,a)[1])/a;u>1&&(i*=Math.ceil(u)),r&&i<r&&(i=r)}i=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),i);for(var s=[],l=e;l<n+i;l+=i)s.push(l);return s}function kl(t){var e;return Bs(Wt({showLast:!0},t))}function wl(t){return new Date(t).getFullYear()}function bl(t){return new Date(t,0,1).getTime()}function Ml(t){return new Date(t).getMonth()}function _l(t,e){var n=wl(t),r=wl(e),i=Ml(t),a;return 12*(r-n)+(Ml(e)-i)%12}function Sl(t,e){return new Date(t,e,1).getTime()}function Pl(t,e){return Math.ceil((e-t)/ks)}function Al(t,e){return Math.ceil((e-t)/xs)}function Cl(t,e){return Math.ceil((e-t)/6e4)}function Ol(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickCount,a=t.tickInterval,o=[];a||(a=(n-e)/i,r&&a<r&&(a=r)),a=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),a);var u=wl(e);if(a>bs)for(var s=wl(n),l=Math.ceil(a/bs),c=u;c<=s+l;c+=l)o.push(bl(c));else if(a>ws)for(var h=Math.ceil(a/ws),f=Ml(e),v=_l(e,n),c=0;c<=v+h;c+=h)o.push(Sl(u,c+f));else if(a>ks)for(var p,d=(p=new Date(e)).getFullYear(),y=p.getMonth(),m=p.getDate(),g=Math.ceil(a/ks),x=Pl(e,n),c=0;c<x+g;c+=g)o.push(new Date(d,y,m+c).getTime());else if(a>xs)for(var p,d=(p=new Date(e)).getFullYear(),y=p.getMonth(),g=p.getDate(),k=p.getHours(),w=Math.ceil(a/xs),b=Al(e,n),c=0;c<=b+w;c+=w)o.push(new Date(d,y,g,k+c).getTime());else if(a>6e4)for(var M=Cl(e,n),_=Math.ceil(a/6e4),c=0;c<=M+_;c+=_)o.push(e+6e4*c);else{var S=a;S<1e3&&(S=1e3);for(var P=1e3*Math.floor(e/1e3),A=Math.ceil((n-e)/1e3),C=Math.ceil(S/1e3),c=0;c<A+C;c+=C)o.push(P+1e3*c)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}Tu("cat",Bs),Tu("time-cat",kl),Tu("wilkinson-extended",fl),Tu("r-pretty",gl),Tu("time",xl),Tu("time-pretty",Ol),Tu("log",vl),Tu("pow",dl),Tu("quantile",ml),Tu("d3-linear",Js),Rs("cat",Yu),Rs("category",Yu),Rs("identity",Ls),Rs("linear",As),Rs("log",Es),Rs("pow",Ts),Rs("time",Ns),Rs("timeCat",Ss),Rs("quantize",Ys),Rs("quantile",Is);var Dl=function(t){var e=t.values,n=t.tickCount;if(!n)return e;if(e.length<=1)return e;for(var r=Math.floor(e.length/(n-1))||1,i=[],a=0;a<e.length;a+=r)i.push(e[a]);var o=e[e.length-1];return i[i.length-1]!==o&&(i.length>=n?i[i.length-1]=o:i.push(o)),i},El=[1,1.2,1.5,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],Tl=5,Nl=function(t){var e=t||{},n=e.tickCount,r=e.tickInterval,i=t||{},a=i.min,o=i.max;a=isNaN(a)?0:a,o=isNaN(o)?0:o;var u=n&&n>=2?n:5,s=r||jl({tickCount:u,max:o,min:a}),l=Math.floor(a/s)*s;if(r){var c=Math.abs(Math.ceil((o-l)/r))+1;u=Math.max(u,c)}for(var h=[],f=0,v=Ll(s);f<u;)h.push(Bl(l+f*s,v)),f++;return h},Yl=12;function Il(t){var e=1;if(0===(t=Math.abs(t)))return e;if(t<1){for(var n=0;t<1;)e/=10,t*=10,n++;return e.toString().length>12&&(e=parseFloat(e.toFixed(n))),e}for(;t>10;)e*=10,t/=10;return e}function jl(t){var e=t.tickCount,n=t.min,r=t.max;if(n===r)return 1*Il(r);for(var i=(r-n)/(e-1),a=Il(i),o=i/a,u=r/a,s=n/a,l=0,c=0;c<El.length;c++){var h;if(o<=El[c]){l=c;break}}var f=Fl(l,e,s,u),v;return Bl(f*a,Ll(f)+Ll(a))}function Fl(t,e,n,r){for(var i=!1,a=El[t],o=t;o<El.length;o++)if(Rl({interval:El[o],tickCount:e,max:r,min:n})){a=El[o],i=!0;break}return i?a:10*Fl(0,e,n/10,r/10)}function Rl(t){var e=t.interval,n=t.tickCount,r=t.max,i=t.min,a;return Math.floor(i/e)*e+(n-1)*e>=r}function Ll(t){var e=t.toString(),n=e.indexOf("."),r=e.indexOf("e-"),i=r>=0?parseInt(e.substr(r+2),10):e.substr(n+1).length;return i>20&&(i=20),i}function Bl(t,e){return parseFloat(t.toFixed(e))}Tu("cat",Dl),Tu("time-cat",Dl),Tu("wilkinson-extended",Nl);var Wl,zl=function(){function t(e){P(this,t),this.data=e,this.options={},this.scales={}}return C(t,[{key:"_getType",value:function t(e){var n=e.type,r=e.values,i=e.field;return n||(st(i)||W(r[0])&&i?"identity":"number"==typeof r[0]?"linear":"cat")}},{key:"_getOption",value:function t(e){var n=e.values,r=e.field,i=e.justifyContent,a=this._getType(e);if(e.type=a,"identity"===a)return e.field=r.toString(),e.values=[r],e;if("linear"===a){"boolean"!=typeof e.nice&&(e.nice=!0);var o=Q(n),u=o.min,s=o.max;return W(e.min)&&(e.min=u),W(e.max)&&(e.max=s),e}if("cat"===a||"timeCat"===a){if(e.range)return e;var l=n.length,c=[0,1];if(1===l)c=[.5,1];else if(i){var h=1/l*.5;c=[h,1-h]}else{var f;c=[0,1-1/l]}e.range=c}return e}},{key:"createScale",value:function t(e){var n=e.type,r;return B(n)?new n(e):new(Fs(n))(e)}},{key:"setScale",value:function t(e,n){var r=this.options,i=this.scales;r[e]=wt({},r[e],n),i[e]&&delete i[e]}},{key:"create",value:function t(e){this.update(e)}},{key:"update",value:function t(e){var n=this;e&&(H(e,(function(t,e){n.setScale(e,t)})),this.scales=u({},this.scales))}},{key:"changeData",value:function t(e){this.data=e,this.scales={}}},{key:"getData",value:function t(){return this.data}},{key:"getScale",value:function t(e){var n=this.scales,r=this.options,i=this.data,a=n[e];if(a)return a;var o=r[e];if(!o)return null;var s=o.values?o.values:i?tt(i,e):[],l=this._getOption(u(u({},o),{},{field:e,values:s})),c=this.createScale(l);return n[e]=c,c}},{key:"getScales",value:function t(){var e=this,n=this.options,r=this.scales;return H(n,(function(t,n){e.getScale(n)})),r}},{key:"adjustStartZero",value:function t(e){var n=this.options,r=e.field,i=e.min,a=e.max,o=n[r];o&&o.min||(i>0?e.change({min:0}):a<0&&e.change({max:0}))}},{key:"adjustPieScale",value:function t(e){var n,r,i=this.options[e.field];if(i&&!W(i.nice))return null;e.change({nice:!1})}},{key:"getZeroValue",value:function t(e){var n=e.min,r=e.max,i;return i=n>=0?n:r<=0?r:0,e.scale(i)}}]),t}(),Xl,Hl=function(t){O(n,t);var e=Y(n);function n(t,r,i){var a;P(this,n),(a=e.call(this,t,r,i)).componentsPosition=[];var u=t.data,s=t.coord,l=t.scale,c=void 0===l?[]:l;a.layoutController=new gu,a.coordController=new Ou,a.scaleController=new zl(u),a.scale=a.scaleController;var h=o(a),f=h.layoutController,v=h.coordController,p=h.scaleController,d=a.getStyle(t,r);return a.layout=f.create(d),a.coord=v.create(s,a.layout),p.create(c),a.data=u,a.state={filters:{}},a}return C(n,[{key:"willReceiveProps",value:function t(e){var n=this.layoutController,r=this.coordController,i=this.scaleController,a=this.props,o=e.style,u=e.data,s=e.scale,l=a.style,c=a.data,h=a.scale;if(!hr(o,l)){var f=this.getStyle(e,this.context);this.layout=n.create(f),r.updateLayout(this.layout)}u!==c&&i.changeData(u),hr(s,h)||i.update(s)}},{key:"willUpdate",value:function t(){var e=this.coordController,n=this.props;this.coord=e.create(n.coord,this.layout)}},{key:"getStyle",value:function t(e,n){var r=n.theme,i=n.px2hd,a=n.left,o=n.top,s=n.width,l=n.height,c=e.style;return i(u(u({left:a,top:o,width:s,height:l},r.chart),c))}},{key:"layoutCoord",value:function t(e){var n=this.coord,r=e.position,i=e.width,a=e.height,o=n.left,u=n.top,s=n.width,l=n.height;switch(r){case"left":o+=i,s=Math.max(0,s-i);break;case"right":s=Math.max(0,s-i);break;case"top":u+=a,l=Math.max(0,l-a);break;case"bottom":l=Math.max(0,l-a)}n.update({left:o,top:u,width:s,height:l})}},{key:"resetCoordLayout",value:function t(){var e=this.coord,n=this.layout;e.update(n)}},{key:"updateCoordLayout",value:function t(e){var n=this;z(e)?e.forEach((function(t){n.layoutCoord(t)})):this.layoutCoord(e)}},{key:"updateCoordFor",value:function t(e,n){var r=this;if(n){var i=this.componentsPosition,a={component:e,layout:n},o=G(i,(function(t){return t.component===e}));if(o>-1)return i.splice(o,1,a),this.resetCoordLayout(),void i.forEach((function(t){var e=t.layout;r.updateCoordLayout(e)}));i.push(a),this.updateCoordLayout(n)}}},{key:"getGeometrys",value:function t(){var e=this.children,n=[];return Qt.toArray(e).forEach((function(t){if(!t)return!1;var e=t.component;e&&e.isGeometry&&n.push(e)})),n}},{key:"getPosition",value:function t(e){for(var n=this.getCoord(),r=this.getXScales()[0],i=r.field,a=this.getYScales(),o=a[0],u=o.field,s=0,l=a.length;s<l;s++){var c=a[s],h=c.field;if(e[h]){o=c,u=h;break}}var f=r.scale(e[i]),v=o.scale(e[u]);return n.convertPoint({x:f,y:v})}},{key:"getSnapRecords",value:function t(e,n){var r=this.getGeometrys();if(r.length)return r[0].getSnapRecords(e,n)}},{key:"getLegendItems",value:function t(e){var n=this.getGeometrys();if(n.length)return n[0].getLegendItems(e)}},{key:"setScale",value:function t(e,n){this.scaleController.setScale(e,n)}},{key:"getScale",value:function t(e){return this.scaleController.getScale(e)}},{key:"getScales",value:function t(){return this.scaleController.getScales()}},{key:"getXScales",value:function t(){var e;return this.getGeometrys().map((function(t){return t.getXScale()}))}},{key:"getYScales",value:function t(){var e;return this.getGeometrys().map((function(t){return t.getYScale()}))}},{key:"getCoord",value:function t(){return this.coord}},{key:"filter",value:function t(e,n){var r=this.state.filters;this.setState({filters:u(u({},r),{},l({},e,n))})}},{key:"_getRenderData",value:function t(){var e=this.props,n=this.state,r=e.data,i=n.filters;if(!i||!Object.keys(i).length)return r;var a=r;return H(i,(function(t,e){t&&(a=a.filter((function(n){return t(n[e],n)})))})),a}},{key:"render",value:function t(){var e=this,n=this.props,r=this.layout,i=this.coord,a=n.children,o;if(!n.data)return null;var u=this._getRenderData();return Qt.map(a,(function(t){return Qt.cloneElement(t,{chart:e,coord:i,data:u,layout:r})}))}}]),n}(Kt);function Vl(t,e,n){if(t===e)return!0;for(var r=0,i=n.length;r<i;r++){var a=n[r];if(t[a]!==e[a])return!1}return!0}var ql,Gl=function(t){O(n,t);var e=Y(n);function n(t,r){var i;P(this,n),i=e.call(this,t,r);var a=t.selection;if(!a)return N(i);var o=a.defaultSelected;return i.state.selected=o,i}return C(n,[{key:"didMount",value:function t(){var e=this,n=this.props,r=this.state,i,a=this.container.get("canvas"),o=n.selection,u=n.chart;if(o){var s=o.triggerOn,l=void 0===s?"click":s;a.on(l,(function(t){var n=t.points,i=e.getSnapRecords(n[0]),a=o.type,s=void 0===a?"single":a,l=o.cancelable,c=void 0===l||l;if(i&&i.length){var h=r.selected,f=i.map((function(t){return t.origin}));if(h&&h.length||e.setState({selected:f}),"single"===s){if(!c)return void e.setState({selected:f});var v=[];return i.forEach((function(t){e.isSelected(t)||v.push(t.origin)})),void e.setState({selected:v})}var p=u.getScales(),d=Object.keys(p),y={};h.forEach((function(t){var e=d.map((function(e){return t[e]})).join("-");y[e]=t})),i.forEach((function(t){var e=t.origin,n=d.map((function(t){return e[t]})).join("-");y[n]=y[n]?null:e}));var m=Object.keys(y).map((function(t){return y[t]})).filter(Boolean);e.setState({selected:m})}else c&&e.setState({selected:null})}))}}},{key:"willReceiveProps",value:function t(e){var n=e.selection,r=this.props.selection;if(n&&r){var i=n.defaultSelected,a;hr(i,r.defaultSelected)||(this.state.selected=i)}}},{key:"getSnapRecords",value:function t(e){return null}},{key:"isSelected",value:function t(e){var n=this.state,r=this.props,i=n.selected;if(!i||!i.length)return!1;for(var a,o=r.chart.getScales(),u=Object.keys(o),s=0,l=i.length;s<l;s++){var c=i[s];if(Vl(e.origin,c,u))return!0}return!1}},{key:"getSelectionStyle",value:function t(e){var n=this.state,r=this.props,i=n.selected;if(!i||!i.length)return null;var a=r.selection,o=a.selectedStyle,u=a.unSelectedStyle,s;return this.isSelected(e)?B(o)?o(e):o:B(u)?u(e):u}}]),n}(Kt),Ul=0,Zl=.5,$l=.5,Ql=.05,Jl=function(){function t(t){var e=t.xField,n=t.yField,r=t.adjustNames,i=void 0===r?["x","y"]:r,a=t.dimValuesMap;this.adjustNames=i,this.xField=e,this.yField=n,this.dimValuesMap=a}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var r=this.yField,i=n.indexOf(e),a=n.length,o,u;return!r&&this.isAdjust("y")?(o=0,u=1):a>1?(o=n[0===i?0:i-1],u=n[i===a-1?a-1:i+1],0!==i?o+=(e-o)/2:o-=(u-e)/2,i!==a-1?u-=(u-e)/2:u+=(e-n[a-2])/2):(o=0===e?0:e-.5,u=0===e?1:e+.5),{pre:o,next:u}},t.prototype.adjustData=function(t,e){var n=this,r=this.getDimValues(e);H(t,(function(t,e){H(r,(function(r,i){n.adjustDim(i,r,t,e)}))}))},t.prototype.groupData=function(t,e){return H(t,(function(t){void 0===t[e]&&(t[e]=0)})),it(t,e)},t.prototype.adjustDim=function(t,e,n,r){},t.prototype.getDimValues=function(t){var e=this,n=e.xField,r=e.yField,i=wt({},this.dimValuesMap),a=[];if(n&&this.isAdjust("x")&&a.push(n),r&&this.isAdjust("y")&&a.push(r),a.forEach((function(e){i&&i[e]||(i[e]=tt(t,e).sort((function(t,e){return t-e})))})),!r&&this.isAdjust("y")){var o="y";i.y=[0,1]}return i},t}(),Kl={},tc=function(t){return Kl[t.toLowerCase()]},ec=function(t,e){if(tc(t))throw new Error("Adjust type '"+t+"' existed.");Kl[t.toLowerCase()]=e},nc=function(t,e){return(nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function rc(t,e){function n(){this.constructor=t}nc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ic=function(){return ic=Object.assign||function t(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ic.apply(this,arguments)},ac=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var r=e.marginRatio,i=void 0===r?.5:r,a=e.dodgeRatio,o=void 0===a?.5:a,u=e.dodgeBy,s=e.intervalPadding,l=e.dodgePadding,c=e.xDimensionLength,h=e.groupNum,f=e.defaultSize,v=e.maxColumnWidth,p=e.minColumnWidth,d=e.columnWidthRatio,y=e.customOffset;return n.marginRatio=i,n.dodgeRatio=o,n.dodgeBy=u,n.intervalPadding=s,n.dodgePadding=l,n.xDimensionLegenth=c,n.groupNum=h,n.defaultSize=f,n.maxColumnWidth=v,n.minColumnWidth=p,n.columnWidthRatio=d,n.customOffset=y,n}return rc(e,t),e.prototype.process=function(t){var e=bt(t),n=U(e),r=this.dodgeBy,i=r?ot(n,r):e;return this.cacheMap={},this.adjustDataArray=i,this.mergeData=n,this.adjustData(i,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,n,r){var i=this,a=this.customOffset,o=this.getDistribution(t),u;return H(this.groupData(n,t),(function(n,u){var s;s=1===e.length?{pre:e[0]-1,next:e[0]+1}:i.getAdjustRange(t,parseFloat(u),e),H(n,(function(e){var n=e[t],u=o[n],l=u.indexOf(r);if(W(a))e[t]=i.getDodgeOffset(s,l,u.length);else{var c=s.pre,h=s.next;e[t]=B(a)?a(e,s):(c+h)/2+a}}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var r=this,i=r.dodgeRatio,a=r.marginRatio,o=r.intervalPadding,u=r.dodgePadding,s=t.pre,l=t.next,c=l-s,h,f;if(!W(o)&&W(u)&&o>=0)h=s+(f=this.getIntervalOnlyOffset(n,e));else if(!W(u)&&W(o)&&u>=0){var f;h=s+(f=this.getDodgeOnlyOffset(n,e))}else if(!W(o)&&!W(u)&&o>=0&&u>=0){var f;h=s+(f=this.getIntervalAndDodgeOffset(n,e))}else{var v=c*i/n,p=a*v,f;h=(s+l)/2+(f=.5*(c-n*v-(n-1)*p)+((e+1)*v+e*p)-.5*v-.5*c)}return h},e.prototype.getIntervalOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.intervalPadding,a=n.xDimensionLegenth,o=n.groupNum,u=n.dodgeRatio,s=n.maxColumnWidth,l=n.minColumnWidth,c=n.columnWidthRatio,h=i/a,f=(1-(o-1)*h)/o*u/(t-1),v=((1-h*(o-1))/o-f*(t-1))/t,p;if(v=W(c)?v:1/o/t*c,!W(s)){var d=s/a;v=Math.min(v,d)}if(!W(l)){var y=l/a;v=Math.max(v,y)}return((.5+e)*(v=r?r/a:v)+e*(f=((1-(o-1)*h)/o-t*v)/(t-1))+.5*h)*o-h/2},e.prototype.getDodgeOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.dodgePadding,a=n.xDimensionLegenth,o=n.groupNum,u=n.marginRatio,s=n.maxColumnWidth,l=n.minColumnWidth,c=n.columnWidthRatio,h=i/a,f=1*u/(o-1),v=((1-f*(o-1))/o-h*(t-1))/t,p;if(v=c?1/o/t*c:v,!W(s)){var d=s/a;v=Math.min(v,d)}if(!W(l)){var y=l/a;v=Math.max(v,y)}return((.5+e)*(v=r?r/a:v)+e*h+.5*(f=(1-(v*t+h*(t-1))*o)/(o-1)))*o-f/2},e.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,r=n.intervalPadding,i=n.dodgePadding,a=n.xDimensionLegenth,o=n.groupNum,u=r/a,s=i/a,l,c;return((.5+e)*(((1-u*(o-1))/o-s*(t-1))/t)+e*s+.5*u)*o-u/2},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,r=n[t];return r||(r={},H(e,(function(e,n){var i=tt(e,t);i.length||i.push(0),H(i,(function(t){r[t]||(r[t]=[]),r[t].push(n)}))})),n[t]=r),r},e}(Jl);function oc(t,e){return(e-t)*Math.random()+t}var uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rc(e,t),e.prototype.process=function(t){var e=bt(t),n=U(e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var r=this,i;return H(this.groupData(n,t),(function(n,i){return r.adjustGroup(n,t,parseFloat(i),e)}))},e.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,r=(n-e)*Ql;return oc(e+r,n-r)},e.prototype.adjustGroup=function(t,e,n,r){var i=this,a=this.getAdjustRange(e,n,r);return H(t,(function(t){t[e]=i.getAdjustOffset(a)})),t},e}(Jl),sc=Ht,lc=function(t){function e(e){var n=t.call(this,e)||this,r=e.adjustNames,i=void 0===r?["y"]:r,a=e.height,o=void 0===a?NaN:a,u=e.size,s=void 0===u?10:u,l=e.reverseOrder,c=void 0!==l&&l;return n.adjustNames=i,n.height=o,n.size=s,n.reverseOrder=c,n}return rc(e,t),e.prototype.process=function(t){var e=this,n=e.yField,r=e.reverseOrder,i=n?this.processStack(t):this.processOneDimStack(t);return r?this.reverse(i):i},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this,n=e.xField,r=e.yField,i,a=e.reverseOrder?this.reverse(t):t,o=new sc,u=new sc;return a.map((function(t){return t.map((function(t){var e,i=Yt(t,n,0),a=Yt(t,[r]),s=i.toString();if(a=z(a)?a[1]:a,!W(a)){var l=a>=0?o:u;l.has(s)||l.set(s,0);var c=l.get(s),h=a+c;return l.set(s,h),ic(ic({},t),((e={})[r]=[c,h],e))}return t}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this,r=n.xField,i=n.height,a=n.reverseOrder,o="y",u=a?this.reverse(t):t,s=new sc;return u.map((function(t){return t.map((function(t){var n,a=e.size,o=t[r],u=2*a/i;s.has(o)||s.set(o,u/2);var l=s.get(o);return s.set(o,l+u),ic(ic({},t),((n={}).y=l,n))}))}))},e}(Jl),cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rc(e,t),e.prototype.process=function(t){var e=U(t),n=this,r=n.xField,i=n.yField,a=this.getXValuesMaxMap(e),o=Math.max.apply(Math,Object.keys(a).map((function(t){return a[t]})));return Et(t,(function(t){return Et(t,(function(t){var e,n,u=t[i],s=t[r];if(z(u)){var l=(o-a[s])/2;return ic(ic({},t),((e={})[i]=Et(u,(function(t){return l+t})),e))}var c=(o-u)/2;return ic(ic({},t),((n={})[i]=[c,u+c],n))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this,r=n.xField,i=n.yField,a=it(t,(function(t){return t[r]}));return Nt(a,(function(t){return e.getDimMaxValue(t,i)}))},e.prototype.getDimMaxValue=function(t,e){var n=Et(t,(function(t){return Yt(t,e,[])})),r=U(n);return Math.max.apply(Math,r)},e}(Jl);ec("Dodge",ac),ec("Jitter",uc),ec("Stack",lc),ec("Symmetric",cc);var hc,fc=function(){function t(e){P(this,t),wt(this,e);var n=this.scale,r=this.field,i=this.data;if(!n&&i){var a=tt(i,r);this.scale=this.createScale({values:a,field:r})}}return C(t,[{key:"createScale",value:function t(e){return null}},{key:"_mapping",value:function t(e){return e}},{key:"update",value:function t(e){wt(this,e)}},{key:"setRange",value:function t(e){this.range=e}},{key:"normalize",value:function t(e){var n=this.scale;return z(e)?e.map((function(t){return n.scale(t)})):n.scale(e)}},{key:"convert",value:function t(e){return e}},{key:"mapping",value:function t(e){var n=B(this.callback)?this.callback(e):null;return W(n)?this._mapping(e):n}}]),t}(),vc,pc=function(t){O(n,t);var e=Y(n);function n(t){var r;return P(this,n),(r=e.call(this,t))._updateInterpolate(),r}return C(n,[{key:"createScale",value:function t(e){return new As(e)}},{key:"_updateInterpolate",value:function t(){var e=or(this.range,2),n=e[0],r=e[1];this.interpolate=vi(n,r)}},{key:"update",value:function t(e){Je(D(n.prototype),"update",this).call(this,e),this._updateInterpolate()}},{key:"_mapping",value:function t(e){var n=this.scale,r=this.interpolate;return z(e)?e.map((function(t){return r(n.scale(t))})):r(n.scale(e))}},{key:"normalize",value:function t(e){var n=this.scale;return z(e)?e.map((function(t){return n.scale(t)})):n.scale(e)}},{key:"convert",value:function t(e){var n,r=or(this.range,2),i=r[0],a=r[1];return z(e)?e.map((function(t){return i+(a-i)*t})):i+(a-i)*e}}]),n}(fc),dc,yc=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"createScale",value:function t(e){return new Yu(e)}},{key:"_mapping",value:function t(e){var n=this.scale,r=this.range,i;if("cat"===n.type)return r[n.translate(e)%r.length];var a=n.scale(e),o;return r[Math.round(a*(r.length-1))]}}]),n}(fc),mc,gc=function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"createScale",value:function t(e){return new Ls(e)}},{key:"_mapping",value:function t(){var e=this.field,n=this.range;return e||n&&n[0]}}]),n}(fc),xc=Object.freeze(Object.defineProperty({__proto__:null,Attr:fc,Linear:pc,Category:yc,Identity:gc},Symbol.toStringTag,{value:"Module"})),kc=gc,wc=pc,bc=yc,Mc=["x","y","color","size","shape"],_c=["color","size","shape"];function Sc(t,e){return new t.constructor(u(u({},t.__cfg__),e))}var Pc,Ac=function(){function t(e,n){P(this,t),this.scaleController=e,this.attrsRange=n,this.options={},this.attrs={}}return C(t,[{key:"parseOption",value:function t(e,n){return e?K(e)?{field:e,type:"category"}:st(e)&&"size"===n?{type:"identity",field:e}:z(e)?{field:e[0],range:e[1]}:e:{type:"identity"}}},{key:"getAttrOptions",value:function t(e,n){var r=this;if(!e.x||!e.y)throw new Error("x, y are required !");var i={},a=this.attrsRange;Mc.forEach((function(t){if(e[t]){var n=r.parseOption(e[t],t);n.range||(n.range=a[t]),i[t]=n}}));var o=i.x,u=i.y;return o.justifyContent=n,o.type=wc,u.type=wc,i}},{key:"getDefaultAttrValues",value:function t(){var e=this.attrsRange,n=e.color,r=e.shape;return{color:n[0],shape:r&&r[0]}}},{key:"getGroupScales",value:function t(){var e=this.attrs,n=[];return H(_c,(function(t){var r=e[t];if(r){var i=r.scale;i&&i.isCategory&&-1===n.indexOf(i)&&n.push(i)}})),n}},{key:"createAttr",value:function t(e){var n=e.type,r=e.field,i=e.scale;if(W(r)||n===kc)return new kc(e);var a=this.scaleController.getScale(r),o=u(u({},e),{},{data:this.scaleController.getData(),scale:i?Sc(a,i):a});if(a&&"identity"===a.type)return new kc(o);var s=a.isLinear?wc:bc;return B(n)&&(s=n),K(n)&&xc[ft(n)]&&(s=xc[ft(n)]),new s(o)}},{key:"create",value:function t(e){this.update(e)}},{key:"update",value:function t(e){var n=this.scaleController,r=this.options,i=this.attrs,a={};H(e,(function(t,e){var o;hr(t,r[e])&&(a[e]=i[e]);var u=t.field,s=t.justifyContent;u&&n.setScale(u,{justifyContent:s})})),this.options=e,this.attrs=a}},{key:"getAttr",value:function t(e){var n=this.attrs,r=this.options,i=n[e];if(i)return i;var a=r[e];if(!a)return null;var o=this.createAttr(a);return n[e]=o,o}},{key:"getAttrs",value:function t(){var e=this,n=this.options,r=this.attrs;return H(n,(function(t,n){e.getAttr(n)})),r}},{key:"isGroupAttr",value:function t(e){return-1!==_c.indexOf(e)}},{key:"getAttrsByLinear",value:function t(){var e=this.attrs,n=Object.keys(e),r=[],i=[];return n.forEach((function(t){if("x"!==t&&"y"!==t){var n=e[t].scale;n&&"linear"===n.type?r.push(t):i.push(t)}else r.push(t)})),{linearAttrs:r,nonlinearAttrs:i}}}]),t}(),Cc=["field"],Oc="origin",Dc,Ec=function(t){O(n,t);var e=Y(n);function n(t,r){var i;P(this,n),(i=e.call(this,t,r)).isGeometry=!0,i.justifyContent=!1,i.startOnZero=!1,i.connectNulls=!1,i.sortable=!1,wt(o(i),i.getDefaultCfg());var a=t.chart,u=t.coord,s=i._getThemeAttrsRange();i.attrController=new Ac(a.scale,s);var l=o(i),c=l.attrController,h=l.justifyContent,f=c.getAttrOptions(t,!u.isCyclic()||h);return c.create(f),i}return C(n,[{key:"getDefaultCfg",value:function t(){return{}}},{key:"willReceiveProps",value:function t(e){Je(D(n.prototype),"willReceiveProps",this).call(this,e);var r=this.props,i=this.attrController,a=this.justifyContent,o=e.data,u=e.adjust,s=e.zoomRange,l=e.coord,c=r.data,h=r.adjust,f=r.zoomRange,v=!l.isCyclic()||a,p=i.getAttrOptions(e,v),d;hr(p,i.getAttrOptions(r,v))||(i.update(p),this.records=null),o!==c&&(this.records=null),u!==h&&(this.records=null),hr(s,f)||(this.records=null)}},{key:"willMount",value:function t(){this._createAttrs(),this.records||this._processData()}},{key:"willUpdate",value:function t(){this._createAttrs(),this.records||this._processData()}},{key:"didMount",value:function t(){Je(D(n.prototype),"didMount",this).call(this),this._initEvent()}},{key:"_createAttrs",value:function t(){var e=this.attrController;e.attrs={},this.attrs=e.getAttrs()}},{key:"_getThemeAttrsRange",value:function t(){var e=this.context,n=this.props,r=this.geomType,i=n.coord,a=e.theme,o=a.colors,u=a.sizes,s=a.shapes;return{x:i.x,y:i.y,color:o,size:u,shape:s[r]}}},{key:"_adjustScales",value:function t(){var e=this.attrs,n=this.props,r=this.startOnZero,i=n.chart,a=n.startOnZero,o=void 0===a?r:a,u=n.coord,s=n.adjust,l=u.isPolar,c=u.transposed,h=e.y,f=h.field;if(o){var v=e.y;i.scale.adjustStartZero(v.scale)}if(l&&c&&"stack"===s){var p=e.y;i.scale.adjustPieScale(p.scale)}"stack"===s&&this._updateStackRange(f,h.scale,this.dataArray)}},{key:"_groupData",value:function t(e){var n,r=this.attrController.getGroupScales();if(!r.length)return[{children:e}];var i=[];r.forEach((function(t){var e=t.field;i.push(e)}));var a=at(e,i),o=[];for(var u in a)o.push({key:u.replace(/^_/,""),children:a[u]});return o}},{key:"_saveOrigin",value:function t(e){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var a=e[i];r[i]=u(u({},a),{},l({},"origin",a))}return r}},{key:"_numberic",value:function t(e){for(var n=this.attrs,r=[n.x.scale,n.y.scale],i=0,a=e.length;i<a;i++)for(var o=e[i],u=r.length,s=0;s<u;s++){var l=r[s];if(l.isCategory){var c=l.field;o[c]=l.translate(o[c])}}}},{key:"_adjustData",value:function t(e){var n=this.attrs,r,i=this.props.adjust,a=e.map((function(t){return t.children}));if(!i)return a;var o="string"==typeof i?{type:i}:i,u=ft(o.type),s=tc(u);if(!s)throw new Error("not support such adjust : "+i);if("Dodge"===u){for(var l=0,c=a.length;l<c;l++)this._numberic(a[l]);o.adjustNames=["x"]}var h=n.x,f=n.y;o.xField=h.field,o.yField=f.field;var v=new s(o),p=v.process(a);return this.adjust={type:o.type,adjust:v},e.forEach((function(t,e){t.children=p[e]})),p}},{key:"_updateStackRange",value:function t(e,n,r){for(var i=U(r),a=1/0,o=-1/0,u=0,s=i.length;u<s;u++){var l=i[u],c=Math.min.apply(null,l[e]),h=Math.max.apply(null,l[e]);c<a&&(a=c),h>o&&(o=h)}a===n.min&&o===n.max||n.change({min:a,max:o})}},{key:"_processData",value:function t(){var e,n=this.props.data,r=this._saveOrigin(n),i=this._groupData(r),a=this._adjustData(i);this.dataArray=a,this._adjustScales(),this.sortable&&this._sortData(i),this.records=i}},{key:"_sortData",value:function t(e){var n=this.getXScale(),r=n.field,i=n.type;"identity"!==i&&n.values.length>1&&H(e,(function(t){var e;t.children.sort((function(t,e){return"timeCat"===i?$i(t.origin[r])-$i(e.origin[r]):n.translate(t.origin[r])-n.translate(e.origin[r])}))}))}},{key:"_initEvent",value:function t(){var e=this,n=this.container,r=this.props,i=n.get("canvas");["onPressStart","onPress","onPressEnd","onPan","onPanStart","onPanEnd"].forEach((function(t){r[t]&&i.on(t.substr(2).toLowerCase(),(function(n){n.geometry=e,r[t](n)}))}))}},{key:"getY0Value",value:function t(){var e=this.attrs,n,r=this.props.chart,i=e.y.field,a=r.getScale(i);return r.scale.getZeroValue(a)}},{key:"_getShapeStyle",value:function t(e,n){var r=this.context,i=this.props,a=this.geomType,o,s=r.theme.shape[a]||{},l=s.default,c=s[e],h=i.style,f=u(u({},l),c);if(!h||!X(h))return f;var v=h.field,p=Wi(h,Cc),d=v?n[v]:n;return H(p,(function(t,e){B(t)?f[e]=t(d):f[e]=t})),f}},{key:"_mapping",value:function t(e){for(var n=this.attrs,r=this.props,i=this.attrController,a=r.coord,o=i.getAttrsByLinear(),s=o.linearAttrs,l=o.nonlinearAttrs,c=i.getDefaultAttrValues(),h=0,f=e.length;h<f;h++){for(var v,p=e[h].children,d=u({},c),y=p[0],m=0,g=l.length;m<g;m++){var x=l[m],k=n[x];d[x]=k.mapping(y[k.field])}for(var w=0,b=p.length;w<b;w++){for(var M=p[w],_={},S=0;S<s.length;S++){var P=s[S],A=n[P];i.isGroupAttr(P)?d[P]=A.mapping(M[A.field]):_[P]=A.normalize(M[A.field])}var C=a.convertPoint({x:_.x,y:_.y}),O=C.x,D=C.y,E=d.shape,T,N;wt(M,d,{normalized:_,x:O,y:D,shapeName:E,shape:this._getShapeStyle(E,M.origin),selected:this.isSelected(M)})}}return e}},{key:"mapping",value:function t(){var e=this.records;return this._mapping(e),e}},{key:"getAttr",value:function t(e){return this.attrController.getAttr(e)}},{key:"getXScale",value:function t(){return this.getAttr("x").scale}},{key:"getYScale",value:function t(){return this.getAttr("y").scale}},{key:"_getXSnap",value:function t(e){var n=this.getXScale();if(n.isCategory)return n.invert(e);var r=n.invert(e),i=n.values,a=i.length;if(1===a)return i[0];if((i[0]+i[1])/2>r)return i[0];if((i[a-2]+i[a-1])/2<=r)return i[a-1];for(var o=1;o<a;o++)if((i[o-1]+i[o])/2<=r&&(i[o+1]+i[o])/2>r)return i[o];return null}},{key:"_getYSnapRecords",value:function t(e,n){var r=this.getYScale(),i=r.field,a=r.invert(e);return r.isCategory?n.filter((function(t){return t.origin[i]===a})):n.filter((function(t){var e=t[i];return e[0]<=a&&e[1]>=a}))}},{key:"flatRecords",value:function t(){var e;return this.records.reduce((function(t,e){return t.concat(e.children)}),[])}},{key:"getSnapRecords",value:function t(e,n){var r=this.props,i=r.coord,a=r.adjust,o=i.invertPoint(e),s=this.getXScale(),l=this.getYScale();if(n){var c=s.range,h=l.range;o.x=Math.min(Math.max(o.x,c[0]),c[1]),o.y=Math.min(Math.max(o.y,h[0]),h[1])}var f=this.flatRecords(),v;if("stack"===a&&i.isPolar&&i.transposed&&(o.x>=0&&o.x<=1))return this._getYSnapRecords(o.y,f);var p=[],d=this._getXSnap(o.x);if(!d)return p;for(var y=s.field,m=l.field,g=0,x=f.length;g<x;g++){var k=u(u({},f[g]),{},{xField:y,yField:m}),w=k.origin[y];("timeCat"===s.type&&$i(w)===d||w===d)&&p.push(k)}return p}},{key:"getLegendItems",value:function t(){var e,n=this.attrController.getAttr("color");if(!n)return null;var r=n.scale,i,a;return r.isCategory?r.getTicks().map((function(t){var e=t.text,i=t.tickValue,a=n.mapping(i);return{field:r.field,color:a,name:e,tickValue:i}})):null}}]),n}(Gl);function Tc(t){if(Array.isArray(t))return rr(t)}function Nc(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Yc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ic(t){return Tc(t)||Nc(t)||ir(t)||Yc()}var jc=function(t){return function(e){O(r,e);var n=Y(r);function r(){return P(this,r),n.apply(this,arguments)}return C(r,[{key:"getDefaultCfg",value:function t(){return{geomType:"line",sortable:!0}}},{key:"splitPoints",value:function t(e){for(var n=[],r=[],i=0,a=e.length;i<a;i++){var o=e[i],s=o.x,l=o.y;n.push(u(u({},o),{},{x:s,y:l[1]})),r.push(u(u({},o),{},{x:s,y:l[0]}))}return[n,r]}},{key:"splitNulls",value:function t(e,n){if(n){for(var r=[],i=0,a=e.length;i<a;i++){var o=e[i],u=o.y;if(z(u)){if(isNaN(u[0]))continue;r.push(o)}else isNaN(u)||r.push(o)}return r.length?[r]:[]}for(var s=[],l=[],c=0,h=e.length;c<h;c++){var f=e[c],v=f.y;if(z(v)){if(isNaN(v[0])){l.length&&(s.push(l),l=[]);continue}l.push(f)}else isNaN(v)?l.length&&(s.push(l),l=[]):l.push(f)}return l.length&&s.push(l),s}},{key:"mapping",value:function t(){var e=this,n=Je(D(r.prototype),"mapping",this).call(this),i=this.props,a=this.connectNulls,o=i.coord,s=i.connectNulls,l=void 0===s?a:s;return n.map((function(t){var n=t.children,r=n[0]||{},i=r.size,a=r.color,s=r.shape,c=r.y,h=o.isPolar?[].concat(Ic(n),[n[0]]):n,f,v=e.splitNulls(h,l).map((function(t){var n,r=or(z(c)?e.splitPoints(t):[t,void 0],2),o=r[0],u=r[1];return{size:i,color:a,shape:s,points:o,bottomPoints:u}}));return u(u({},t),{},{children:v})}))}},{key:"render",value:function e(){var n=this.props,r=n.coord,i=this.mapping();return Hi(t,u(u({},n),{},{coord:r,records:i}))}}]),r}(Ec)};function Fc(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e=e.concat(r.points)}return e}function Rc(t){var e=t.y;return{x:t.x,y:z(e)?e[1]:e}}function Lc(t,e){for(var n=t.map((function(t){return Rc(t)})),r=n[0],i,a=n[n.length-1].x-r.x,o=r.x+a*e,u=1;u<n.length;u++){var s=n[u],l=n[u-1];if(o>=l.x&&o<=s.x){var c=(o-l.x)/(s.x-l.x);return{x:o,y:l.y+(s.y-l.y)*c}}}}function Bc(t){var e=t.record,n=t.appear,r=t.EndView,i,a=Fc(e.children),o=a[0].origin;return Hi("group",{animation:{appear:{easing:n.easing,duration:n.duration,onFrame:function t(e){var n,r=this.element.get("children"),i=Lc(a,e);r.forEach((function(t){t.moveTo(i.x,i.y)}))}}}},Hi(r,{origin:o}))}var Wc,zc=jc((function(t){var e=t.records,n=t.coord,r=t.animation,i=t.endView,a=n.left,o=n.top,s=n.width,l,c={easing:"linear",duration:450,clip:{type:"rect",property:["width"],attrs:{x:a,y:o,height:n.height},start:{width:0},end:{width:s}}};return Hi("group",null,e.map((function(t){var e,n;return Hi("group",{key:t.key},t.children.map((function(t){var e=t.points,n=t.color,i=t.size,a=t.shape;return Hi("polyline",{attrs:u(u({points:e.map((function(t){return{x:t.x,y:t.y}})),stroke:n},a),{},{lineWidth:i||a.lineWidth}),animation:At({update:{easing:"linear",duration:450,property:["points"]},appear:c},r)})})),i?Hi(Bc,{record:t,EndView:i,appear:c}):null)})))})),Xc,Hc,Vc=function(t){return function(t){O(n,t);var e=Y(n);function n(){return P(this,n),e.apply(this,arguments)}return C(n,[{key:"getDefaultCfg",value:function t(){return{geomType:"area",startOnZero:!0,sortable:!0}}},{key:"mapping",value:function t(){var e=Je(D(n.prototype),"mapping",this).call(this),r=this.getY0Value(),i=this.props,a=this.startOnZero,o=i.coord,u=i.startOnZero,s=void 0===u?a:u,l=o.y[0],c;s&&(l=o.convertPoint({x:0,y:r}).y);for(var h=0,f=e.length;h<f;h++)for(var v,p=e[h].children,d=0,y=p.length;d<y;d++){var m=p[d],g=m.points,x=m.bottomPoints;x&&x.length?(x.reverse(),m.points=g.concat(x)):(g.push({x:g[g.length-1].x,y:l}),g.push({x:g[0].x,y:l}))}return e}}]),n}(jc(t))}((function(t){var e=t.records,n=t.shape,r=t.animation,i="smooth"===n;return Hi("group",null,e.map((function(t){var e,n;return Hi("group",{key:t.key},t.children.map((function(t){var e=t.points,n=t.bottomPoints,a=t.color,o=t.shape;return i?Hi("custom",{attrs:u({points:e,lineWidth:"2px",fill:a},o),createPath:function t(r){var i=[[0,0],[1,1]],a=(null==n?void 0:n.length)||0,o=e.slice(0,e.length-a),u=ae(o,!1,i);r.beginPath(),r.moveTo(o[0].x,o[0].y);for(var s=0,l=u.length;s<l;s++){var c=u[s];r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5],c[6])}if(a){var h=ae(n,!1,i);r.lineTo(n[0].x,n[0].y);for(var f=0,v=h.length;f<v;f++){var p=h[f];r.bezierCurveTo(p[1],p[2],p[3],p[4],p[5],p[6])}}r.closePath()},calculateBox:function t(){return fe(e)}}):Hi("polygon",{attrs:u({points:e,lineWidth:"2px",fill:a},o),animation:At({update:{easing:"linear",duration:450,property:["points"]}},r)})})))})))})),qc;function Gc(t,e,n){var r=e.x-t.x,i=e.y-t.y,a=[r,i],o=ne.length(a),u=o+n,s=r/o*u,l=i/o*u;return{x:t.x+s,y:t.y+l}}function Uc(t,e){var n=[e.x-t.x,e.y-t.y],r,i;return{textAlign:r=n[0]>0?"left":n[0]<0?"right":"center",textBaseline:i=n[1]>0?"top":n[1]<0?"bottom":"middle"}}var Zc=function t(e){var n=e.line,r=e.gridType,i=e.center,a=e.radius,o=e.ticks;if(!n)return null;if("line"!==r)return Hi("arc",{attrs:u({x:i.x,y:i.y,r:a},n)});var s=o.map((function(t){var e=t.points;return e[e.length-1]}));return s.push(s[0]),Hi("polyline",{attrs:u({points:s},n)})},$c=function(t){var e=t.ticks,n=t.coord,r=t.style,i=t.grid,a=n.center,o=r.grid,s=r.tickLine,l=r.line,c=r.labelOffset,h=r.label,f,v=e[0].points,p=v[v.length-1],d=ne.length([p.x-a.x,p.y-a.y]);return Hi("group",null,o?e.map((function(t){var e=t.points,n=t.gridStyle,r=e[e.length-1];return Hi("line",{attrs:u(u({x1:a.x,y1:a.y,x2:r.x,y2:r.y},o),n)})})):null,s&&s.length?e.map((function(t){var e=t.points,n=e[e.length-1],r=Gc(a,n,s.length);return Hi("line",{attrs:u({x1:n.x,y1:n.y,x2:r.x,y2:r.y},s)})})):null,Hi(Zc,{line:l,gridType:i,center:a,radius:d,ticks:e}),h?e.map((function(t){var e=t.points,n=t.text,r=t.labelStyle,i=e[e.length-1],o=Gc(a,i,c);return Hi("text",{attrs:u(u(u({x:o.x,y:o.y,text:n},Uc(a,i)),h),r)})})):null)},Qc=function(t){var e=t.ticks,n=t.coord,r=t.style,i=t.grid,a=n.center,o=r.grid,s=r.tickLine,l=r.line,c=r.labelOffset,h=r.label;return Hi("group",null,o?e.map((function(t){var e=t.points,n=t.gridStyle,r=t.gridPoints,s=e[e.length-1];return"line"!==i?Hi("arc",{attrs:u(u({x:a.x,y:a.y,r:ne.length([s.x-a.x,s.y-a.y])},o),n)}):Hi("polyline",{attrs:u(u({points:r},o),n)})})):null,s&&s.length?e.map((function(t){var e=t.points,n=e[e.length-1];return Hi("line",{attrs:u({x1:n.x,y1:n.y,x2:n.x-s.length,y2:n.y},s)})})):null,l?Hi("line",{attrs:u({x1:e[0].points[0].x,y1:e[0].points[0].y,x2:e[e.length-1].points[0].x,y2:e[e.length-1].points[0].y},l)}):null,h?e.map((function(t){var e=t.points,n=t.text,r=t.labelStyle,i=e[e.length-1];return Hi("text",{attrs:u(u({x:i.x-c,y:i.y,text:n,textAlign:"right",textBaseline:"middle"},h),r)})})):null)},Jc=function(t){var e=t.ticks,n=t.coord,r=t.style,i=n.left,a=n.top,o=n.right,s=r.grid,l=r.tickLine,c=r.line,h=r.labelOffset,f=r.label;return Hi("group",null,s?e.map((function(t){var e=t.points,n=t.gridStyle,r=e[0],i=e[e.length-1];return Hi("line",{attrs:u(u({x1:r.x,y1:r.y,x2:i.x,y2:i.y},s),n)})})):null,l&&l.length?e.map((function(t){var e=t.points,n=e[e.length-1];return Hi("line",{attrs:u({x1:n.x,y1:n.y,x2:n.x,y2:n.y-l.length},l)})})):null,c?Hi("line",{attrs:u({x1:i,y1:a,x2:o,y2:a},c)}):null,f?e.map((function(t,e){var n=t.points,r=t.text,i=t.labelStyle,a=n[n.length-1];return Hi("text",{attrs:u(u({x:a.x,y:a.y-h,textAlign:"center",textBaseline:"bottom",text:r},f),i)})})):null)},Kc=function(t,e){var n=t.ticks,r=t.coord,i=t.style,a=t.animation,o=e.px2hd,s=r.left,l=r.right,c=r.bottom,h=i.grid,f=i.tickLine,v=i.line,p=i.labelOffset,d=i.label;return Hi("group",null,h?n.map((function(t){var e=t.points,n=t.tickValue,r=t.gridStyle,i=e[0],a=e[e.length-1];return Hi("line",{key:n,attrs:u(u({x1:i.x,y1:i.y,x2:a.x,y2:a.y},h),r)})})):null,f&&f.length?n.map((function(t){var e=t.points,n=t.tickValue,r=e[0];return Hi("line",{key:n,attrs:u({x1:r.x,y1:r.y,x2:r.x,y2:r.y+o(f.length)},f)})})):null,v?Hi("line",{attrs:u({x1:s,y1:c,x2:l,y2:c},v)}):null,d?n.map((function(t,e){var r=t.points,i=t.text,o=t.tickValue,s=t.labelStyle,l=r[0],c,h=(s||d||{}).align,f=void 0===h?"center":h,v=u(u({x:l.x,y:l.y+p,textBaseline:"top",text:i},d),s);return"between"===f?0===e?v.textAlign="start":e===n.length-1?v.textAlign="end":v.textAlign="center":v.textAlign=f,Hi("text",{key:o,attrs:v,animation:a||{appear:{easing:"linear",duration:300,delay:0,property:["fillOpacity"],start:{fillOpacity:0},end:{fillOpacity:1}},update:{easing:"linear",duration:450,delay:0,property:["x","y"]},leave:{easing:"linear",duration:450,delay:0,property:["fillOpacity"],start:{fillOpacity:1},end:{fillOpacity:0}}}})})):null)},th=function(t){var e=t.ticks,n=t.coord,r=t.style,i=n.top,a=n.right,o=n.bottom,s=r.grid,l=r.tickLine,c=r.line,h=r.labelOffset,f=r.label;return Hi("group",null,s?e.map((function(t){var e=t.points,n=t.gridStyle,r=e[0],i=e[e.length-1];return Hi("line",{attrs:u(u({x1:r.x,y1:r.y,x2:i.x,y2:i.y},s),n)})})):null,l&&l.length?e.map((function(t){var e=t.points,n=e[e.length-1];return Hi("line",{attrs:u({x1:n.x,y1:n.y,x2:n.x+l.length,y2:n.y},l)})})):null,c?Hi("line",{attrs:u({x1:a,y1:i,x2:a,y2:o},c)}):null,f?e.map((function(t,e){var n=t.points,r=t.text,i=t.labelStyle,a=n[n.length-1];return Hi("text",{attrs:u(u({x:a.x+h,y:a.y,textAlign:"left",textBaseline:"middle",text:r},f),i)})})):null)},eh=function(t){var e=t.ticks,n=t.coord,r=t.style,i=t.animation,a=n.left,o=n.top,s=n.bottom,l=r.grid,c=r.tickLine,h=r.line,f=r.labelOffset,v=r.label;return Hi("group",null,l?e.map((function(t){var e=t.points,n=t.tickValue,r=t.gridStyle,i=e[0],a=e[e.length-1];return Hi("line",{key:n,attrs:u(u({x1:i.x,y1:i.y,x2:a.x,y2:a.y},l),r)})})):null,c&&c.length?e.map((function(t){var e=t.points,n=t.tickValue,r=e[0];return Hi("line",{key:n,attrs:u({x1:r.x,y1:r.y,x2:r.x-c.length,y2:r.y},c)})})):null,h?Hi("line",{attrs:u({x1:a,y1:o,x2:a,y2:s},h)}):null,v?e.map((function(t,e){var n=t.tickValue,r=t.points,a=t.text,o=t.labelStyle,s=r[0];return Hi("text",{key:n,attrs:u(u({x:s.x-f,y:s.y,textAlign:"right",textBaseline:"middle",text:a},v),o),animation:i||{appear:{easing:"linear",duration:300,delay:0,property:["fillOpacity"],start:{fillOpacity:0},end:{fillOpacity:1}},update:{easing:"linear",duration:450,delay:0,property:["x","y"]},leave:{easing:"linear",duration:450,delay:0,property:["fillOpacity"],start:{fillOpacity:1},end:{fillOpacity:0}}}})})):null)};function nh(t){return t.coord.isPolar}var rh,ih=function(t){return function(e){O(r,e);var n=Y(r);function r(t){var e;P(this,r),(e=n.call(this,t)).style={};var i=e.props,a=i.chart,o=i.field,u=e.getScaleOption(t);return a.setScale(o,u),e}return C(r,[{key:"willReceiveProps",value:function t(e){var n=this.props,r=e.chart,i=e.field,a=this.getScaleOption(e),o;hr(a,this.getScaleOption(n))||r.setScale(i,a)}},{key:"willMount",value:function t(){this.updateCoord()}},{key:"willUpdate",value:function t(){this.updateCoord()}},{key:"getScaleOption",value:function t(e){var n,r,i,a,o,u,s,l;return{type:e.type,tickCount:e.tickCount,range:e.range,mask:e.mask,formatter:e.formatter,min:e.min,max:e.max,nice:e.nice}}},{key:"_getDimType",value:function t(){var e=this.props,n=e.field,r,i,a;return e.chart.getXScales().filter((function(t){return t.field===n})).length>0?"x":"y"}},{key:"getMaxBBox",value:function t(e,n){var r,i=this.context.measureText,a=n.label,o=n.labelOffset,s=0,l=0,c;return e.forEach((function(t){if(a){var e=t.labelStyle,n=t.text,r=i(n,u(u({},a),e));s=Math.max(s,r.width),l=Math.max(l,r.height)}})),s||l?{width:s+o,height:l+o}:{width:s,height:l}}},{key:"_getPosition",value:function t(){var e=this.props,n=e.position,r=e.coord;if(n)return n;var i=this._getDimType();return r.transposed?"x"===i?"left":"bottom":"x"===i?"bottom":"left"}},{key:"getTicks",value:function t(){var e=this.props,n=e.field,r,i,a=e.chart.getScale(n).getTicks();return a=this._setTicksStyle(a),a=this._generateGridPoints(a)}},{key:"_generateGridPoints",value:function t(e){var n=this.props,r=n.chart,i=n.coord,a;if(!i.isPolar)return e;if("y"!==this._getDimType())return e;var o,u=r.getXScales()[0].getTicks();return e.forEach((function(t){var e=u.map((function(e){return i.convertPoint({x:e.value,y:t.value})}));e.push(e[0]),t.gridPoints=e})),e}},{key:"_setTicksStyle",value:function t(e){var n=this,r=this.props,i=this.context,a=i.theme,o=i.px2hd,u=r.style,s=void 0===u?{}:u,l=a.axis;return H(l,(function(t,e){if(null!==s[e]){var r=B(s[e])?void 0:s[e];K(t)||st(t)?n.style[e]=o(r)||t:n.style[e]=o(At(bt(t),r))}})),e.map((function(t,n){var r=s.label,i=s.grid,a=l.label,u=l.grid;return B(r)&&(t.labelStyle=o(wt({},a,r(t.text,n,e)))),B(i)&&(t.gridStyle=o(wt({},u,i(t.text,n,e.length)))),t}))}},{key:"convertTicks",value:function t(e){var n,r=this.props.coord,i=this._getDimType(),a="x"===i?"y":"x";return e.map((function(t){var e,n,o=r.convertPoint((l(e={},i,t.value),l(e,a,0),e)),s=r.convertPoint((l(n={},i,t.value),l(n,a,1),n));return u(u({},t),{},{points:[o,s]})}))}},{key:"measureLayout",value:function t(){var e=this.props,n=e.visible,r=e.coord;if(!1===n)return null;var i=this.getTicks(),a=this.getMaxBBox(i,this.style),o=r.isPolar,u=this._getDimType(),s=a.width,l=a.height,c;return o?"y"===u?null:["top","right","bottom","left"].map((function(t){return{position:t,width:s,height:l}})):{position:this._getPosition(),width:s,height:l}}},{key:"updateCoord",value:function t(){var e,n=this.props.chart,r=this.measureLayout();n.updateCoordFor(this,r)}},{key:"render",value:function e(){var n=this.props,r=this.style,i=n.visible,a=n.coord;if(!1===i)return null;var o=this.getTicks(),s=this._getPosition(),l=this._getDimType();return Hi(t,u(u({},n),{},{style:r,ticks:this.convertTicks(o),coord:a,position:s,dimType:l}))}}]),r}(Kt)}((function(t){var e;if(nh(t))return Hi("x"===t.dimType?$c:Qc,u({},t));var n=t.position;return Hi("right"===n?th:"left"===n?eh:"top"===n?Jc:Kc,u({},t))})),ah=function(t){O(n,t);var e=Y(n);function n(t){var r;return P(this,n),(r=e.call(this,t)).state={hasError:!1},r}return C(n,[{key:"componentDidCatch",value:function t(e,n){console.error("\u56fe\u8868\u6e32\u67d3\u5931\u8d25: ",e)}},{key:"render",value:function t(){var e;return this.state.hasError?this.props.fallback||null:this.props.children||null}}],[{key:"getDerivedStateFromError",value:function t(e){return{hasError:!0}}}]),n}(n.Component),oh=function(t){O(r,t);var e=Y(r);function r(t){var i;P(this,r),i=e.call(this,t);var a=t.canvasRef;return i.canvasRef=a||n.createRef(),i}return C(r,[{key:"componentDidMount",value:function t(){var e=this.canvasRef,n=this.props,r,i=e.current.getContext("2d"),a=new yu(u(u({pixelRatio:1},n),{},{context:i}));this.canvas=a,a.render()}},{key:"componentDidUpdate",value:function t(){var e=this.canvas,n=this.props;e.update(n)}},{key:"render",value:function t(){var e,r=this.props.className,i=void 0===r?"":r;return n.createElement("canvas",{className:"f2-chart ".concat(i),ref:this.canvasRef,style:{width:"100%",height:"100%",display:"block",padding:0,margin:0}})}},{key:"componentWillUnmount",value:function t(){var e;this.canvas.destroy()}}]),r}(n.Component),uh=e.exports.forwardRef((function(t,e){var r=t.fallback;return n.createElement(ah,{fallback:r,children:n.createElement(oh,u(u({},t),{},{ref:e}))})}));const sh=undefined;var lh={title:"_title_26yeo_1"};function ch({hourList:t=[]}){return n.createElement("div",{className:lh.chart},n.createElement("div",{className:lh.title},"Today"),t&&t.length>0?n.createElement(uh,{pixelRatio:window.devicePixelRatio,height:"87"},n.createElement(Hl,{data:t,scale:{time:{tickCount:6},temp:{min:0}}},n.createElement(ih,{field:"time",style:{label:{align:"between"}}}),n.createElement(Vc,{x:"time",y:"temp",color:"l(90) 0:#E9C939 1:#ffffff",shape:"smooth"}),n.createElement(zc,{x:"time",y:"temp",color:"#E9C939",shape:"smooth"}))):null)}const hh=undefined,fh=undefined,vh=undefined;var ph="_hours_zruwg_1",dh="_item_zruwg_19",yh="_temp_zruwg_45";function mh({hourList:t=[]}){return n.createElement("div",{className:ph},n.createElement("ul",null,(t||[]).map((t=>n.createElement("li",{key:t.id,className:dh},n.createElement("div",{className:yh},t.temp,n.createElement("i",null,"\u2103")),n.createElement("span",null,t.time))))))}const gh=undefined,xh=undefined,kh=undefined,wh=undefined,bh=undefined,Mh=undefined,_h=undefined;var Sh="_week_1n70o_1",Ph="_content_1n70o_9",Ah="_time_1n70o_21",Ch="_icon_1n70o_33",Oh="_temp_1n70o_41",Dh="_high_1n70o_57",Eh="_low_1n70o_75";function Th({weekList:t=[]}){return n.createElement("div",{className:Sh},(t||[]).map((t=>n.createElement("div",{className:Ph,key:t.id},n.createElement("div",{className:Ah},t.week),n.createElement("div",{className:Ch},n.createElement("img",{src:t.icon})),n.createElement("div",{className:Oh},n.createElement("div",{className:Dh},t.tempHigh,n.createElement("i",null,"\u2103")),n.createElement("div",{className:Eh},t.tempLow,n.createElement("i",null,"\u2103")))))))}var Nh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEhSURBVHgBrZTBjcIwEEX/2AvLkRK8e8rRYhuADjYV7HaytEAFSwehA65IXHxCSFxcAlcOYRg7IRIEJBPlXyYZKc/fk5khPJHNjNGEgpnGuuR8e/AOCXp7BlOgNRiG5L3U+JaQBFQtmDFjzVQIyNQpPwSWSBS1YO/ijGCvsAF4ttl7j0TdXFmPUARuV1hQc+VJ9vkvhqeofB+V4vxVWPVpDSPwbwMjnm13aX+1BZxk5o9Ac/QgBs/pK/tg9ChpN1qgLzEtYg3F5VLCT5WUGp6lhoeONbw+9AW9aWyBriVMKyb8WfrQde3DoHLEuRzh6pPiPIe5xgui+4S1Mn6nuBhsF6et5eCcPw5YnAqoccpx2yRJPUqGkQtzHKEyOUPCCom6AM39b32sCfxTAAAAAElFTkSuQmCC";const Yh=undefined,Ih=undefined;var jh="_detail_12bq1_1",Fh="_img_12bq1_11";function Rh(){const{latitude:t,longitude:r}=c(),[i,a]=h.useModel("weather"),[o,u]=h.useModel("location"),s=async()=>{await a.getWeatherData({lat:Number(t)||0,lon:Number(r)||0,exclude:"minutely"})};return e.exports.useEffect((()=>{s()}),[]),console.log(1,i.weather),n.createElement("div",{className:jh},n.createElement("img",{className:Fh,src:Nh,onClick:()=>{var t;null==(t=f)||t.replace("/")}}),n.createElement(S,{weather:i.weather,location:o.addressComponent}),n.createElement(ch,{hourList:i.weather.hourly}),n.createElement(mh,{hourList:i.weather.hourly}),n.createElement(Th,{weekList:i.weather.daily}))}const Lh=Rh;export{Lh as default};
